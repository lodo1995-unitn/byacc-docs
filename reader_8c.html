<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Berkeley YACC: byacc/reader.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Berkeley YACC
   &#160;<span id="projectnumber">1993-03-03</span>
   </div>
   <div id="projectbrief">Berkeley&#39;s version of Yet Another Compiler Compiler</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('reader_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">byacc/reader.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="defs_8h_source.html">defs.h</a>&quot;</code><br/>
</div>
<p><a href="reader_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a0095c1e0ae26941efea12c77f2232f2f">LINESIZE</a>&#160;&#160;&#160;100</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a> (int c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#ac812a775973bb1eb24e86256b2de6b8b">skip_comment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a7b9f905e2f933d429fa1b479fd058f03">keyword</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a475e9b3fc05ea753aeeb760cea34a511">copy_ident</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a5719a5118a10bc1e96786f599eeb516f">copy_text</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a7ee403ea2ff911fb368d38ab6ef937c3">copy_union</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a9ce1e6abd7c2eac7e850297b7e1bbc6e">hexval</a> (int c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbucket.html">bucket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#acfb64f081b0d9c4536e90c5352ce9c2c">get_literal</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a205d802dd9de1b8e85d44a321f33365c">is_reserved</a> (char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbucket.html">bucket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a47f6ab5db224a190b33568ed55a03eaf">get_name</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#aceeb8c6c5418f8ac9c9b5666f4047ae3">get_number</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a0d5a7fe7641edf38078ba5e99536772d">get_tag</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a0b749a023a959fabb8ed2778b46ec217">declare_tokens</a> (int assoc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a860dbc8da656fd831b19668da20207c7">declare_types</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a279a8d9eb5a5ad8dce6c95b2647b9c98">declare_start</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a07addfee5457e48ddb310769dd0e39af">read_declarations</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a329c5f0f613a0bef43be8262a531e952">initialize_grammar</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a2d5a55a1a526ac853c3234ea51ee18f8">expand_items</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a26f803a6175f255b34b89151133c51f6">expand_rules</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#ac910677446efcb4dbebc9a6d3d90a9ff">advance_to_start</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a7691871ff8cdc7f1f7bdaf2443070ff1">start_rule</a> (<a class="el" href="structbucket.html">bucket</a> *bp, int s_lineno)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#ae8594bb30d2b0297a4f533a4268c5d0a">end_rule</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#ac59b5c8d9dca9fc4b2614fd186ec6c55">insert_empty_rule</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a34bf32e056d8bc6f1fb490f4efc7ce90">add_symbol</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#abb83807b1bba8d346650d3e4ae4e7425">copy_action</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#aae3985d515e47c03afc20f92c0292531">mark_symbol</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#af6d4fba61bb761ca9fe92fef83e8ee94">read_grammar</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#ae565a221030d4176917fd2ac6ff858e0">free_tags</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a9f8a3fd57d7687e5e2fe6b548fee5bc5">pack_names</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a57996ead211e5a17b36a1b7da0313239">check_symbols</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#ad4d46b52f342745925534555eb129ffb">pack_symbols</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#ac095dad6352a9764b63b751824aa223d">pack_grammar</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a037e2fd887e3a8ddac0b8527a017388e">print_grammar</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a3351a985e2d992eea6ed332cc837ad5b">reader</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#adc2cfac3a357c5424aafa9d351a2e6ea">cache_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a498032a5fea553cb67344de2e38ada5d">ntags</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a2276541d2730a13720eae3a572a8a95c">tagmax</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a3711173060f4ba6063466079e1735f69">saw_eof</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a0c2eb26538005f327c8ee9e4310ea309">unionized</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a23c15a972e063257ed7d820c4fdcf923">line</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a91e4d8a878948ae4d8573c4a9894b2e2">linesize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbucket.html">bucket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a5bfbd3b409ebe4bc09f9ed58d177c2bd">prec</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a8b9e707c64fb36363191b197f807250d">gensym</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a8bdcde8bd00b0f20ab9b266713ade2ad">last_was_action</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbucket.html">bucket</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbucket.html">bucket</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#af9422143c1c9b05eb373c0f8ae85676f">name_pool_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reader_8c.html#a2a7b40b34c2ced2fec7fa3d28c9c504d">line_format</a> [] = &quot;#line %d \&quot;%s\&quot;\n&quot;</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0095c1e0ae26941efea12c77f2232f2f"></a><!-- doxytag: member="reader.c::LINESIZE" ref="a0095c1e0ae26941efea12c77f2232f2f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="reader_8c.html#a0095c1e0ae26941efea12c77f2232f2f">LINESIZE</a>&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00008">8</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00052">get_line()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a34bf32e056d8bc6f1fb490f4efc7ce90"></a><!-- doxytag: member="reader.c::add_symbol" ref="a34bf32e056d8bc6f1fb490f4efc7ce90" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a34bf32e056d8bc6f1fb490f4efc7ce90">add_symbol</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01148">1148</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l01100">end_rule()</a>, <a class="el" href="reader_8c_source.html#l01015">expand_items()</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l01119">insert_empty_rule()</a>, <a class="el" href="reader_8c_source.html#l00023">last_was_action</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="reader_8c_source.html#l00025">maxitems</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="main_8c_source.html#l00040">nitems</a>, and <a class="el" href="reader_8c_source.html#l01085">start_rule()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;
    <span class="keywordtype">int</span> s_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;

    c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\&#39;&#39;</span> || c == <span class="charliteral">&#39;&quot;&#39;</span>)
    bp = <a class="code" href="reader_8c.html#acfb64f081b0d9c4536e90c5352ce9c2c">get_literal</a>();
    <span class="keywordflow">else</span>
    bp = <a class="code" href="reader_8c.html#a47f6ab5db224a190b33568ed55a03eaf">get_name</a>();

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;:&#39;</span>)
    {
    <a class="code" href="reader_8c.html#ae8594bb30d2b0297a4f533a4268c5d0a">end_rule</a>();
    <a class="code" href="reader_8c.html#a7691871ff8cdc7f1f7bdaf2443070ff1">start_rule</a>(bp, s_lineno);
    ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a8bdcde8bd00b0f20ab9b266713ade2ad">last_was_action</a>)
    <a class="code" href="reader_8c.html#ac59b5c8d9dca9fc4b2614fd186ec6c55">insert_empty_rule</a>();
    <a class="code" href="reader_8c.html#a8bdcde8bd00b0f20ab9b266713ade2ad">last_was_action</a> = 0;

    <span class="keywordflow">if</span> (++<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> &gt; <a class="code" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a>)
    <a class="code" href="reader_8c.html#a2d5a55a1a526ac853c3234ea51ee18f8">expand_items</a>();
    <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a>-1] = bp;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac910677446efcb4dbebc9a6d3d90a9ff"></a><!-- doxytag: member="reader.c::advance_to_start" ref="ac910677446efcb4dbebc9a6d3d90a9ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#ac910677446efcb4dbebc9a6d3d90a9ff">advance_to_start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01035">1035</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00121">bucket::class</a>, <a class="el" href="reader_8c_source.html#l00300">copy_text()</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00917">declare_start()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l00209">keyword()</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="defs_8h_source.html#l00060">MARK</a>, <a class="el" href="defs_8h_source.html#l00116">bucket::name</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="error_8c_source.html#l00214">no_grammar()</a>, <a class="el" href="defs_8h_source.html#l00063">START</a>, <a class="el" href="reader_8c_source.html#l01085">start_rule()</a>, <a class="el" href="error_8c_source.html#l00064">syntax_error()</a>, <a class="el" href="defs_8h_source.html#l00071">TERM</a>, <a class="el" href="error_8c_source.html#l00198">terminal_start()</a>, <a class="el" href="defs_8h_source.html#l00061">TEXT</a>, and <a class="el" href="error_8c_source.html#l00029">unexpected_EOF()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;
    <span class="keywordtype">char</span> *s_cptr;
    <span class="keywordtype">int</span> s_lineno;

    <span class="keywordflow">for</span> (;;)
    {
    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;%&#39;</span>) <span class="keywordflow">break</span>;
    s_cptr = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">switch</span> (<a class="code" href="reader_8c.html#a7b9f905e2f933d429fa1b479fd058f03">keyword</a>())
    {
    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#abeb214368f7f34cff98de9047aa6eb2f">MARK</a>:
        <a class="code" href="error_8c.html#aa247f6f1a935ef2a5bffb181f2a9f48d">no_grammar</a>();

    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a52e3db5a1724beab41ebbabe72460f12">TEXT</a>:
        <a class="code" href="reader_8c.html#a5719a5118a10bc1e96786f599eeb516f">copy_text</a>();
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a3018c7600b7bb9866400596a56a57af7">START</a>:
        <a class="code" href="reader_8c.html#a279a8d9eb5a5ad8dce6c95b2647b9c98">declare_start</a>();
        <span class="keywordflow">break</span>;

    <span class="keywordflow">default</span>:
        <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, s_cptr);
    }
    }

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (!isalpha(c) &amp;&amp; c != <span class="charliteral">&#39;_&#39;</span> &amp;&amp; c != <span class="charliteral">&#39;.&#39;</span> &amp;&amp; c != <span class="charliteral">&#39;_&#39;</span>)
    <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);
    bp = <a class="code" href="reader_8c.html#a47f6ab5db224a190b33568ed55a03eaf">get_name</a>();
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a> == 0)
    {
    <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> == <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>)
        <a class="code" href="error_8c.html#a6859daa9b91716c6fbe56b822641877c">terminal_start</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
    <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a> = bp;
    }

    s_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;:&#39;</span>) <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);
    <a class="code" href="reader_8c.html#a7691871ff8cdc7f1f7bdaf2443070ff1">start_rule</a>(bp, s_lineno);
    ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a04707e6fc9527eaf37d68dafdc9483a9"></a><!-- doxytag: member="reader.c::cachec" ref="a04707e6fc9527eaf37d68dafdc9483a9" args="(int c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00037">37</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00010">cache</a>, <a class="el" href="reader_8c_source.html#l00011">cache_size</a>, <a class="el" href="reader_8c_source.html#l00011">cinc</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, and <a class="el" href="defs_8h_source.html#l00106">REALLOC</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, and <a class="el" href="reader_8c_source.html#l00209">keyword()</a>.</p>
<div class="fragment"><pre class="fragment">{
    assert(<a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a> &gt;= 0);
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a> &gt;= <a class="code" href="reader_8c.html#adc2cfac3a357c5424aafa9d351a2e6ea">cache_size</a>)
    {
    <a class="code" href="reader_8c.html#adc2cfac3a357c5424aafa9d351a2e6ea">cache_size</a> += 256;
    <a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a> = <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <a class="code" href="reader_8c.html#adc2cfac3a357c5424aafa9d351a2e6ea">cache_size</a>);
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    }
    <a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>[<a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a>] = c;
    ++<a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a57996ead211e5a17b36a1b7da0313239"></a><!-- doxytag: member="reader.c::check_symbols" ref="a57996ead211e5a17b36a1b7da0313239" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a57996ead211e5a17b36a1b7da0313239">check_symbols</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01519">1519</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00121">bucket::class</a>, <a class="el" href="symtab_8c_source.html#l00011">first_symbol</a>, <a class="el" href="defs_8h_source.html#l00116">bucket::name</a>, <a class="el" href="defs_8h_source.html#l00115">bucket::next</a>, <a class="el" href="defs_8h_source.html#l00071">TERM</a>, <a class="el" href="error_8c_source.html#l00305">undefined_goal()</a>, <a class="el" href="error_8c_source.html#l00313">undefined_symbol_warning()</a>, and <a class="el" href="defs_8h_source.html#l00070">UNKNOWN</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01756">reader()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;

    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a>-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> == <a class="code" href="defs_8h.html#ac1ae4add974b9cfc6b5aaf8a578f01ab">UNKNOWN</a>)
    <a class="code" href="error_8c.html#a4000cace0a889b23c1ec8411e02979a3">undefined_goal</a>(<a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a>-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);

    <span class="keywordflow">for</span> (bp = <a class="code" href="defs_8h.html#a1ed0f15406e7f959f0a458f219c97944">first_symbol</a>; bp; bp = bp-&gt;<a class="code" href="structbucket.html#a70c4dfb30de550c0caf1ce95f5e8803f">next</a>)
    {
    <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> == <a class="code" href="defs_8h.html#ac1ae4add974b9cfc6b5aaf8a578f01ab">UNKNOWN</a>)
    {
        <a class="code" href="error_8c.html#ae6a521b17a781796ffe5cbd6cefc0d09">undefined_symbol_warning</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
        bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> = <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>;
    }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="abb83807b1bba8d346650d3e4ae4e7425"></a><!-- doxytag: member="reader.c::copy_action" ref="abb83807b1bba8d346650d3e4ae4e7425" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#abb83807b1bba8d346650d3e4ae4e7425">copy_action</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01179">1179</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="main_8c_source.html#l00027">action_file</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="error_8c_source.html#l00259">dollar_error()</a>, <a class="el" href="error_8c_source.html#l00250">dollar_warning()</a>, <a class="el" href="reader_8c_source.html#l00099">dup_line()</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="reader_8c_source.html#l00052">get_line()</a>, <a class="el" href="reader_8c_source.html#l00763">get_number()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, <a class="el" href="main_8c_source.html#l00021">input_file_name</a>, <a class="el" href="reader_8c_source.html#l01119">insert_empty_rule()</a>, <a class="el" href="reader_8c_source.html#l00023">last_was_action</a>, <a class="el" href="main_8c_source.html#l00005">lflag</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="reader_8c_source.html#l00034">line_format</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="main_8c_source.html#l00040">nitems</a>, <a class="el" href="main_8c_source.html#l00041">nrules</a>, <a class="el" href="reader_8c_source.html#l00013">ntags</a>, <a class="el" href="defs_8h_source.html#l00117">bucket::tag</a>, <a class="el" href="error_8c_source.html#l00289">unknown_rhs()</a>, <a class="el" href="error_8c_source.html#l00238">unterminated_action()</a>, <a class="el" href="error_8c_source.html#l00076">unterminated_comment()</a>, <a class="el" href="error_8c_source.html#l00088">unterminated_string()</a>, <a class="el" href="error_8c_source.html#l00271">untyped_lhs()</a>, and <a class="el" href="error_8c_source.html#l00279">untyped_rhs()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <span class="keywordtype">int</span> i, n;
    <span class="keywordtype">int</span> depth;
    <span class="keywordtype">int</span> quote;
    <span class="keywordtype">char</span> *tag;
    <span class="keyword">register</span> FILE *f = <a class="code" href="defs_8h.html#ac4054bb8ea7826ac0eaa766ea7b87844">action_file</a>;
    <span class="keywordtype">int</span> a_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
    <span class="keywordtype">char</span> *a_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
    <span class="keywordtype">char</span> *a_cptr = a_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>);

    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a8bdcde8bd00b0f20ab9b266713ade2ad">last_was_action</a>)
    <a class="code" href="reader_8c.html#ac59b5c8d9dca9fc4b2614fd186ec6c55">insert_empty_rule</a>();
    <a class="code" href="reader_8c.html#a8bdcde8bd00b0f20ab9b266713ade2ad">last_was_action</a> = 1;

    fprintf(f, <span class="stringliteral">&quot;case %d:\n&quot;</span>, <a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a> - 2);
    <span class="keywordflow">if</span> (!<a class="code" href="defs_8h.html#a858ab980ec866cf1508eab1a081869d3">lflag</a>)
    fprintf(f, <a class="code" href="defs_8h.html#a2a7b40b34c2ced2fec7fa3d28c9c504d">line_format</a>, <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#aa91ff4ee3ee60baee9c097d4da3e3d18">input_file_name</a>);
    <span class="keywordflow">if</span> (*<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> == <span class="charliteral">&#39;=&#39;</span>) ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;

    n = 0;
    <span class="keywordflow">for</span> (i = <a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> - 1; <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[i]; --i) ++n;

    depth = 0;
loop:
    c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;$&#39;</span>)
    {
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>[1] == <span class="charliteral">&#39;&lt;&#39;</span>)
    {
        <span class="keywordtype">int</span> d_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
        <span class="keywordtype">char</span> *d_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
        <span class="keywordtype">char</span> *d_cptr = d_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>);

        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        tag = <a class="code" href="reader_8c.html#a0d5a7fe7641edf38078ba5e99536772d">get_tag</a>();
        c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;$&#39;</span>)
        {
        fprintf(f, <span class="stringliteral">&quot;yyval.%s&quot;</span>, tag);
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(d_line);
        <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isdigit(c))
        {
        i = <a class="code" href="reader_8c.html#aceeb8c6c5418f8ac9c9b5666f4047ae3">get_number</a>();
        <span class="keywordflow">if</span> (i &gt; n) <a class="code" href="error_8c.html#ae78233a24912be6e0e72a1446c3058cd">dollar_warning</a>(d_lineno, i);
        fprintf(f, <span class="stringliteral">&quot;yyvsp[%d].%s&quot;</span>, i - n, tag);
        <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(d_line);
        <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;-&#39;</span> &amp;&amp; isdigit(cptr[1]))
        {
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        i = -<a class="code" href="reader_8c.html#aceeb8c6c5418f8ac9c9b5666f4047ae3">get_number</a>() - n;
        fprintf(f, <span class="stringliteral">&quot;yyvsp[%d].%s&quot;</span>, i, tag);
        <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(d_line);
        <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">else</span>
        <a class="code" href="error_8c.html#aa7751e4500f0f24aba5df3a1da874632">dollar_error</a>(d_lineno, d_line, d_cptr);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cptr[1] == <span class="charliteral">&#39;$&#39;</span>)
    {
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a498032a5fea553cb67344de2e38ada5d">ntags</a>)
        {
        tag = <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>]-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a>;
        <span class="keywordflow">if</span> (tag == 0) <a class="code" href="error_8c.html#af3c15789267651b6cf6063963c3e1a47">untyped_lhs</a>();
        fprintf(f, <span class="stringliteral">&quot;yyval.%s&quot;</span>, tag);
        }
        <span class="keywordflow">else</span>
        fprintf(f, <span class="stringliteral">&quot;yyval&quot;</span>);
        cptr += 2;
        <span class="keywordflow">goto</span> loop;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isdigit(cptr[1]))
    {
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        i = <a class="code" href="reader_8c.html#aceeb8c6c5418f8ac9c9b5666f4047ae3">get_number</a>();
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a498032a5fea553cb67344de2e38ada5d">ntags</a>)
        {
        <span class="keywordflow">if</span> (i &lt;= 0 || i &gt; n)
            <a class="code" href="error_8c.html#a69399ed8e91ea487b50fb9ce29d9dfe7">unknown_rhs</a>(i);
        tag = <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> + i - n - 1]-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a>;
        <span class="keywordflow">if</span> (tag == 0) <a class="code" href="error_8c.html#a379bc1d52c8597f3914fc3937a6fecda">untyped_rhs</a>(i, <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> + i - n - 1]-&gt;name);
        fprintf(f, <span class="stringliteral">&quot;yyvsp[%d].%s&quot;</span>, i - n, tag);
        }
        <span class="keywordflow">else</span>
        {
        <span class="keywordflow">if</span> (i &gt; n)
            <a class="code" href="error_8c.html#ae78233a24912be6e0e72a1446c3058cd">dollar_warning</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, i);
        fprintf(f, <span class="stringliteral">&quot;yyvsp[%d]&quot;</span>, i - n);
        }
        <span class="keywordflow">goto</span> loop;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cptr[1] == <span class="charliteral">&#39;-&#39;</span>)
    {
        cptr += 2;
        i = <a class="code" href="reader_8c.html#aceeb8c6c5418f8ac9c9b5666f4047ae3">get_number</a>();
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a498032a5fea553cb67344de2e38ada5d">ntags</a>)
        <a class="code" href="error_8c.html#a69399ed8e91ea487b50fb9ce29d9dfe7">unknown_rhs</a>(-i);
        fprintf(f, <span class="stringliteral">&quot;yyvsp[%d]&quot;</span>, -i - n);
        <span class="keywordflow">goto</span> loop;
    }
    }
    <span class="keywordflow">if</span> (isalpha(c) || c == <span class="charliteral">&#39;_&#39;</span> || c == <span class="charliteral">&#39;$&#39;</span>)
    {
    <span class="keywordflow">do</span>
    {
        putc(c, f);
        c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    } <span class="keywordflow">while</span> (isalnum(c) || c == <span class="charliteral">&#39;_&#39;</span> || c == <span class="charliteral">&#39;$&#39;</span>);
    <span class="keywordflow">goto</span> loop;
    }
    putc(c, f);
    ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">switch</span> (c)
    {
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:
    next_line:
    <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>) <span class="keywordflow">goto</span> loop;
    <a class="code" href="error_8c.html#a150e9a905e4ecaf20109c91b6de62383">unterminated_action</a>(a_lineno, a_line, a_cptr);

    <span class="keywordflow">case</span> <span class="charliteral">&#39;;&#39;</span>:
    <span class="keywordflow">if</span> (depth &gt; 0) <span class="keywordflow">goto</span> loop;
    fprintf(f, <span class="stringliteral">&quot;\nbreak;\n&quot;</span>);
    <span class="keywordflow">return</span>;

    <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>:
    ++depth;
    <span class="keywordflow">goto</span> loop;

    <span class="keywordflow">case</span> <span class="charliteral">&#39;}&#39;</span>:
    <span class="keywordflow">if</span> (--depth &gt; 0) <span class="keywordflow">goto</span> loop;
    fprintf(f, <span class="stringliteral">&quot;\nbreak;\n&quot;</span>);
    <span class="keywordflow">return</span>;

    <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:
    {
        <span class="keywordtype">int</span> s_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
        <span class="keywordtype">char</span> *s_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
        <span class="keywordtype">char</span> *s_cptr = s_line + (cptr - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> - 1);

        quote = c;
        <span class="keywordflow">for</span> (;;)
        {
        c = *cptr++;
        putc(c, f);
        <span class="keywordflow">if</span> (c == quote)
        {
            <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(s_line);
            <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
            <a class="code" href="error_8c.html#a1be74faa1a912de2fd380aa9a4de6eb2">unterminated_string</a>(s_lineno, s_line, s_cptr);
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\\&#39;</span>)
        {
            c = *cptr++;
            putc(c, f);
            <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
            {
            <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
                <a class="code" href="error_8c.html#a1be74faa1a912de2fd380aa9a4de6eb2">unterminated_string</a>(s_lineno, s_line, s_cptr);
            }
        }
        }
    }

    <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:
    c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;/&#39;</span>)
    {
        putc(<span class="charliteral">&#39;*&#39;</span>, f);
        <span class="keywordflow">while</span> ((c = *++cptr) != <span class="charliteral">&#39;\n&#39;</span>)
        {
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; cptr[1] == <span class="charliteral">&#39;/&#39;</span>)
            fprintf(f, <span class="stringliteral">&quot;* &quot;</span>);
        <span class="keywordflow">else</span>
            putc(c, f);
        }
        fprintf(f, <span class="stringliteral">&quot;*/\n&quot;</span>);
        <span class="keywordflow">goto</span> next_line;
    }
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span>)
    {
        <span class="keywordtype">int</span> c_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
        <span class="keywordtype">char</span> *c_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
        <span class="keywordtype">char</span> *c_cptr = c_line + (cptr - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> - 1);

        putc(<span class="charliteral">&#39;*&#39;</span>, f);
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">for</span> (;;)
        {
        c = *cptr++;
        putc(c, f);
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; *cptr == <span class="charliteral">&#39;/&#39;</span>)
        {
            putc(<span class="charliteral">&#39;/&#39;</span>, f);
            ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
            <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(c_line);
            <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
        {
            <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
            <a class="code" href="error_8c.html#a81c4e76cf37319065a21afcaec1b8ab1">unterminated_comment</a>(c_lineno, c_line, c_cptr);
        }
        }
    }
    <span class="keywordflow">goto</span> loop;

    <span class="keywordflow">default</span>:
    <span class="keywordflow">goto</span> loop;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a475e9b3fc05ea753aeeb760cea34a511"></a><!-- doxytag: member="reader.c::copy_ident" ref="a475e9b3fc05ea753aeeb760cea34a511" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a475e9b3fc05ea753aeeb760cea34a511">copy_ident</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00271">271</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="main_8c_source.html#l00016">outline</a>, <a class="el" href="main_8c_source.html#l00032">output_file</a>, <a class="el" href="error_8c_source.html#l00064">syntax_error()</a>, and <a class="el" href="error_8c_source.html#l00029">unexpected_EOF()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> FILE *f = <a class="code" href="defs_8h.html#a2960eb597f48f3b59bbb850b47e895ff">output_file</a>;

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;&quot;&#39;</span>) <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);
    ++<a class="code" href="defs_8h.html#a8f2e121d17724ac350912c502a6f4067">outline</a>;
    fprintf(f, <span class="stringliteral">&quot;#ident \&quot;&quot;</span>);
    <span class="keywordflow">for</span> (;;)
    {
    c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
    {
        fprintf(f, <span class="stringliteral">&quot;\&quot;\n&quot;</span>);
        <span class="keywordflow">return</span>;
    }
    putc(c, f);
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;&quot;&#39;</span>)
    {
        putc(<span class="charliteral">&#39;\n&#39;</span>, f);
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">return</span>;
    }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5719a5118a10bc1e96786f599eeb516f"></a><!-- doxytag: member="reader.c::copy_text" ref="a5719a5118a10bc1e96786f599eeb516f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a5719a5118a10bc1e96786f599eeb516f">copy_text</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00300">300</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00099">dup_line()</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="reader_8c_source.html#l00052">get_line()</a>, <a class="el" href="main_8c_source.html#l00021">input_file_name</a>, <a class="el" href="main_8c_source.html#l00005">lflag</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="reader_8c_source.html#l00034">line_format</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="main_8c_source.html#l00033">text_file</a>, <a class="el" href="error_8c_source.html#l00076">unterminated_comment()</a>, <a class="el" href="error_8c_source.html#l00088">unterminated_string()</a>, and <a class="el" href="error_8c_source.html#l00100">unterminated_text()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, and <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keywordtype">int</span> quote;
    <span class="keyword">register</span> FILE *f = <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>;
    <span class="keywordtype">int</span> need_newline = 0;
    <span class="keywordtype">int</span> t_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
    <span class="keywordtype">char</span> *t_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
    <span class="keywordtype">char</span> *t_cptr = t_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> - 2);

    <span class="keywordflow">if</span> (*<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> == <span class="charliteral">&#39;\n&#39;</span>)
    {
    <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
        <a class="code" href="error_8c.html#a60e968f02480372518e9cce97e70ef5b">unterminated_text</a>(t_lineno, t_line, t_cptr);
    }
    <span class="keywordflow">if</span> (!<a class="code" href="defs_8h.html#a858ab980ec866cf1508eab1a081869d3">lflag</a>) fprintf(f, <a class="code" href="defs_8h.html#a2a7b40b34c2ced2fec7fa3d28c9c504d">line_format</a>, <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#aa91ff4ee3ee60baee9c097d4da3e3d18">input_file_name</a>);

loop:
    c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
    <span class="keywordflow">switch</span> (c)
    {
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:
    next_line:
    putc(<span class="charliteral">&#39;\n&#39;</span>, f);
    need_newline = 0;
    <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>) <span class="keywordflow">goto</span> loop;
    <a class="code" href="error_8c.html#a60e968f02480372518e9cce97e70ef5b">unterminated_text</a>(t_lineno, t_line, t_cptr);

    <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:
    {
        <span class="keywordtype">int</span> s_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
        <span class="keywordtype">char</span> *s_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
        <span class="keywordtype">char</span> *s_cptr = s_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> - 1);

        quote = c;
        putc(c, f);
        <span class="keywordflow">for</span> (;;)
        {
        c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
        putc(c, f);
        <span class="keywordflow">if</span> (c == quote)
        {
            need_newline = 1;
            <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(s_line);
            <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
            <a class="code" href="error_8c.html#a1be74faa1a912de2fd380aa9a4de6eb2">unterminated_string</a>(s_lineno, s_line, s_cptr);
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\\&#39;</span>)
        {
            c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
            putc(c, f);
            <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
            {
            <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
                <a class="code" href="error_8c.html#a1be74faa1a912de2fd380aa9a4de6eb2">unterminated_string</a>(s_lineno, s_line, s_cptr);
            }
        }
        }
    }

    <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:
    putc(c, f);
    need_newline = 1;
    c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;/&#39;</span>)
    {
        putc(<span class="charliteral">&#39;*&#39;</span>, f);
        <span class="keywordflow">while</span> ((c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>) != <span class="charliteral">&#39;\n&#39;</span>)
        {
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>[1] == <span class="charliteral">&#39;/&#39;</span>)
            fprintf(f, <span class="stringliteral">&quot;* &quot;</span>);
        <span class="keywordflow">else</span>
            putc(c, f);
        }
        fprintf(f, <span class="stringliteral">&quot;*/&quot;</span>);
        <span class="keywordflow">goto</span> next_line;
    }
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span>)
    {
        <span class="keywordtype">int</span> c_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
        <span class="keywordtype">char</span> *c_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
        <span class="keywordtype">char</span> *c_cptr = c_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> - 1);

        putc(<span class="charliteral">&#39;*&#39;</span>, f);
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">for</span> (;;)
        {
        c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
        putc(c, f);
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> == <span class="charliteral">&#39;/&#39;</span>)
        {
            putc(<span class="charliteral">&#39;/&#39;</span>, f);
            ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
            <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(c_line);
            <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
        {
            <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
            <a class="code" href="error_8c.html#a81c4e76cf37319065a21afcaec1b8ab1">unterminated_comment</a>(c_lineno, c_line, c_cptr);
        }
        }
    }
    need_newline = 1;
    <span class="keywordflow">goto</span> loop;

    <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:
    <span class="keywordflow">if</span> (*<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> == <span class="charliteral">&#39;}&#39;</span>)
    {
        <span class="keywordflow">if</span> (need_newline) putc(<span class="charliteral">&#39;\n&#39;</span>, f);
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(t_line);
        <span class="keywordflow">return</span>;
    }
    <span class="comment">/* fall through */</span>

    <span class="keywordflow">default</span>:
    putc(c, f);
    need_newline = 1;
    <span class="keywordflow">goto</span> loop;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7ee403ea2ff911fb368d38ab6ef937c3"></a><!-- doxytag: member="reader.c::copy_union" ref="a7ee403ea2ff911fb368d38ab6ef937c3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a7ee403ea2ff911fb368d38ab6ef937c3">copy_union</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00431">431</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="main_8c_source.html#l00004">dflag</a>, <a class="el" href="reader_8c_source.html#l00099">dup_line()</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="reader_8c_source.html#l00052">get_line()</a>, <a class="el" href="main_8c_source.html#l00021">input_file_name</a>, <a class="el" href="main_8c_source.html#l00005">lflag</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="reader_8c_source.html#l00034">line_format</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="error_8c_source.html#l00124">over_unionized()</a>, <a class="el" href="main_8c_source.html#l00033">text_file</a>, <a class="el" href="main_8c_source.html#l00035">union_file</a>, <a class="el" href="reader_8c_source.html#l00016">unionized</a>, <a class="el" href="error_8c_source.html#l00076">unterminated_comment()</a>, <a class="el" href="error_8c_source.html#l00088">unterminated_string()</a>, and <a class="el" href="error_8c_source.html#l00112">unterminated_union()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keywordtype">int</span> quote;
    <span class="keywordtype">int</span> depth;
    <span class="keywordtype">int</span> u_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
    <span class="keywordtype">char</span> *u_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
    <span class="keywordtype">char</span> *u_cptr = u_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> - 6);

    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0c2eb26538005f327c8ee9e4310ea309">unionized</a>) <a class="code" href="error_8c.html#aa9bb2f4291d5b51cee6f8dc4156e0fd5">over_unionized</a>(<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - 6);
    <a class="code" href="defs_8h.html#a0c2eb26538005f327c8ee9e4310ea309">unionized</a> = 1;

    <span class="keywordflow">if</span> (!<a class="code" href="defs_8h.html#a858ab980ec866cf1508eab1a081869d3">lflag</a>)
    fprintf(<a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>, <a class="code" href="defs_8h.html#a2a7b40b34c2ced2fec7fa3d28c9c504d">line_format</a>, <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#aa91ff4ee3ee60baee9c097d4da3e3d18">input_file_name</a>);

    fprintf(<a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>, <span class="stringliteral">&quot;typedef union&quot;</span>);
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) fprintf(<a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>, <span class="stringliteral">&quot;typedef union&quot;</span>);

    depth = 0;
loop:
    c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
    putc(c, <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>);
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) putc(c, <a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>);
    <span class="keywordflow">switch</span> (c)
    {
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:
    next_line:
    <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0) <a class="code" href="error_8c.html#a81dd9930c4155592c10afdb2b0e34588">unterminated_union</a>(u_lineno, u_line, u_cptr);
    <span class="keywordflow">goto</span> loop;

    <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>:
    ++depth;
    <span class="keywordflow">goto</span> loop;

    <span class="keywordflow">case</span> <span class="charliteral">&#39;}&#39;</span>:
    <span class="keywordflow">if</span> (--depth == 0)
    {
        fprintf(<a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>, <span class="stringliteral">&quot; YYSTYPE;\n&quot;</span>);
        <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(u_line);
        <span class="keywordflow">return</span>;
    }
    <span class="keywordflow">goto</span> loop;

    <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;&quot;&#39;</span>:
    {
        <span class="keywordtype">int</span> s_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
        <span class="keywordtype">char</span> *s_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
        <span class="keywordtype">char</span> *s_cptr = s_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> - 1);

        quote = c;
        <span class="keywordflow">for</span> (;;)
        {
        c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
        putc(c, <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>);
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) putc(c, <a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>);
        <span class="keywordflow">if</span> (c == quote)
        {
            <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(s_line);
            <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
            <a class="code" href="error_8c.html#a1be74faa1a912de2fd380aa9a4de6eb2">unterminated_string</a>(s_lineno, s_line, s_cptr);
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\\&#39;</span>)
        {
            c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
            putc(c, <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>);
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) putc(c, <a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>);
            <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
            {
            <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
                <a class="code" href="error_8c.html#a1be74faa1a912de2fd380aa9a4de6eb2">unterminated_string</a>(s_lineno, s_line, s_cptr);
            }
        }
        }
    }

    <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:
    c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;/&#39;</span>)
    {
        putc(<span class="charliteral">&#39;*&#39;</span>, <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>);
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) putc(<span class="charliteral">&#39;*&#39;</span>, <a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>);
        <span class="keywordflow">while</span> ((c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>) != <span class="charliteral">&#39;\n&#39;</span>)
        {
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>[1] == <span class="charliteral">&#39;/&#39;</span>)
        {
            fprintf(<a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>, <span class="stringliteral">&quot;* &quot;</span>);
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) fprintf(<a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>, <span class="stringliteral">&quot;* &quot;</span>);
        }
        <span class="keywordflow">else</span>
        {
            putc(c, <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>);
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) putc(c, <a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>);
        }
        }
        fprintf(<a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>, <span class="stringliteral">&quot;*/\n&quot;</span>);
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) fprintf(<a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>, <span class="stringliteral">&quot;*/\n&quot;</span>);
        <span class="keywordflow">goto</span> next_line;
    }
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span>)
    {
        <span class="keywordtype">int</span> c_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
        <span class="keywordtype">char</span> *c_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
        <span class="keywordtype">char</span> *c_cptr = c_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> - 1);

        putc(<span class="charliteral">&#39;*&#39;</span>, <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>);
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) putc(<span class="charliteral">&#39;*&#39;</span>, <a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>);
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">for</span> (;;)
        {
        c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
        putc(c, <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>);
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) putc(c, <a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>);
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> == <span class="charliteral">&#39;/&#39;</span>)
        {
            putc(<span class="charliteral">&#39;/&#39;</span>, <a class="code" href="defs_8h.html#a70aab3e007cfef8c480135d83496e2fc">text_file</a>);
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0dcaa799d1936ef88f62722db104b1a4">dflag</a>) putc(<span class="charliteral">&#39;/&#39;</span>, <a class="code" href="defs_8h.html#a80b11bb32924d9790e344f7467269c39">union_file</a>);
            ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
            <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(c_line);
            <span class="keywordflow">goto</span> loop;
        }
        <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>)
        {
            <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
            <a class="code" href="error_8c.html#a81c4e76cf37319065a21afcaec1b8ab1">unterminated_comment</a>(c_lineno, c_line, c_cptr);
        }
        }
    }
    <span class="keywordflow">goto</span> loop;

    <span class="keywordflow">default</span>:
    <span class="keywordflow">goto</span> loop;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a279a8d9eb5a5ad8dce6c95b2647b9c98"></a><!-- doxytag: member="reader.c::declare_start" ref="a279a8d9eb5a5ad8dce6c95b2647b9c98" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a279a8d9eb5a5ad8dce6c95b2647b9c98">declare_start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00917">917</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00121">bucket::class</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="defs_8h_source.html#l00116">bucket::name</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="error_8c_source.html#l00207">restarted_warning()</a>, <a class="el" href="error_8c_source.html#l00064">syntax_error()</a>, <a class="el" href="defs_8h_source.html#l00071">TERM</a>, <a class="el" href="error_8c_source.html#l00198">terminal_start()</a>, and <a class="el" href="error_8c_source.html#l00029">unexpected_EOF()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, and <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    <span class="keywordflow">if</span> (!isalpha(c) &amp;&amp; c != <span class="charliteral">&#39;_&#39;</span> &amp;&amp; c != <span class="charliteral">&#39;.&#39;</span> &amp;&amp; c != <span class="charliteral">&#39;$&#39;</span>)
    <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);
    bp = <a class="code" href="reader_8c.html#a47f6ab5db224a190b33568ed55a03eaf">get_name</a>();
    <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> == <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>)
    <a class="code" href="error_8c.html#a6859daa9b91716c6fbe56b822641877c">terminal_start</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a> &amp;&amp; <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a> != bp)
    <a class="code" href="error_8c.html#a23e15c296f3057431e3c58bb151b44bd">restarted_warning</a>();
    <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a> = bp;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0b749a023a959fabb8ed2778b46ec217"></a><!-- doxytag: member="reader.c::declare_tokens" ref="a0b749a023a959fabb8ed2778b46ec217" args="(int assoc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a0b749a023a959fabb8ed2778b46ec217">declare_tokens</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>assoc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00827">827</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00122">bucket::assoc</a>, <a class="el" href="defs_8h_source.html#l00121">bucket::class</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l00763">get_number()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, <a class="el" href="defs_8h_source.html#l00116">bucket::name</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="reader_8c_source.html#l00021">prec</a>, <a class="el" href="defs_8h_source.html#l00120">bucket::prec</a>, <a class="el" href="error_8c_source.html#l00182">reprec_warning()</a>, <a class="el" href="error_8c_source.html#l00174">retyped_warning()</a>, <a class="el" href="error_8c_source.html#l00190">revalued_warning()</a>, <a class="el" href="defs_8h_source.html#l00117">bucket::tag</a>, <a class="el" href="defs_8h_source.html#l00071">TERM</a>, <a class="el" href="defs_8h_source.html#l00056">TOKEN</a>, <a class="el" href="error_8c_source.html#l00165">tokenized_start()</a>, <a class="el" href="defs_8h_source.html#l00077">UNDEFINED</a>, <a class="el" href="error_8c_source.html#l00029">unexpected_EOF()</a>, <a class="el" href="lalr_8c_source.html#l00007">shorts::value</a>, and <a class="el" href="defs_8h_source.html#l00118">bucket::value</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;
    <span class="keywordtype">int</span> value;
    <span class="keywordtype">char</span> *tag = 0;

    <span class="keywordflow">if</span> (assoc != <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>) ++<a class="code" href="reader_8c.html#a5bfbd3b409ebe4bc09f9ed58d177c2bd">prec</a>;

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;&lt;&#39;</span>)
    {
    tag = <a class="code" href="reader_8c.html#a0d5a7fe7641edf38078ba5e99536772d">get_tag</a>();
    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    }

    <span class="keywordflow">for</span> (;;)
    {
    <span class="keywordflow">if</span> (isalpha(c) || c == <span class="charliteral">&#39;_&#39;</span> || c == <span class="charliteral">&#39;.&#39;</span> || c == <span class="charliteral">&#39;$&#39;</span>)
        bp = <a class="code" href="reader_8c.html#a47f6ab5db224a190b33568ed55a03eaf">get_name</a>();
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\&#39;&#39;</span> || c == <span class="charliteral">&#39;&quot;&#39;</span>)
        bp = <a class="code" href="reader_8c.html#acfb64f081b0d9c4536e90c5352ce9c2c">get_literal</a>();
    <span class="keywordflow">else</span>
        <span class="keywordflow">return</span>;

    <span class="keywordflow">if</span> (bp == <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a>) <a class="code" href="error_8c.html#abcb4446ca644dc3e6dd448223d8cecf3">tokenized_start</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
    bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> = <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>;

    <span class="keywordflow">if</span> (tag)
    {
        <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a> &amp;&amp; tag != bp-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a>)
        <a class="code" href="error_8c.html#a3d339813f1a66f2c299cbb4a23b4729d">retyped_warning</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
        bp-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a> = tag;
    }

    <span class="keywordflow">if</span> (assoc != <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>)
    {
        <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a36012bcc4fbe73a5095dc858746f6439">prec</a> &amp;&amp; <a class="code" href="reader_8c.html#a5bfbd3b409ebe4bc09f9ed58d177c2bd">prec</a> != bp-&gt;<a class="code" href="structbucket.html#a36012bcc4fbe73a5095dc858746f6439">prec</a>)
        <a class="code" href="error_8c.html#a611d57303996915e8b1cb835e81d4708">reprec_warning</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
        bp-&gt;<a class="code" href="structbucket.html#a60e2217a1c919890a10545ae4adb6e67">assoc</a> = assoc;
        bp-&gt;<a class="code" href="structbucket.html#a36012bcc4fbe73a5095dc858746f6439">prec</a> = <a class="code" href="reader_8c.html#a5bfbd3b409ebe4bc09f9ed58d177c2bd">prec</a>;
    }

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    value = <a class="code" href="defs_8h.html#a2dc3870be25a19efa2940150507aaf71">UNDEFINED</a>;
    <span class="keywordflow">if</span> (isdigit(c))
    {
        value = <a class="code" href="reader_8c.html#aceeb8c6c5418f8ac9c9b5666f4047ae3">get_number</a>();
        <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a> != <a class="code" href="defs_8h.html#a2dc3870be25a19efa2940150507aaf71">UNDEFINED</a> &amp;&amp; value != bp-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a>)
        <a class="code" href="error_8c.html#a770515753ea5a59ff13bcca8dadb9e48">revalued_warning</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
        bp-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a> = value;
        c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
        <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a860dbc8da656fd831b19668da20207c7"></a><!-- doxytag: member="reader.c::declare_types" ref="a860dbc8da656fd831b19668da20207c7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a860dbc8da656fd831b19668da20207c7">declare_types</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00889">889</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="defs_8h_source.html#l00116">bucket::name</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="error_8c_source.html#l00174">retyped_warning()</a>, <a class="el" href="error_8c_source.html#l00064">syntax_error()</a>, <a class="el" href="defs_8h_source.html#l00117">bucket::tag</a>, and <a class="el" href="error_8c_source.html#l00029">unexpected_EOF()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;
    <span class="keywordtype">char</span> *tag;

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;&lt;&#39;</span>) <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);
    tag = <a class="code" href="reader_8c.html#a0d5a7fe7641edf38078ba5e99536772d">get_tag</a>();

    <span class="keywordflow">for</span> (;;)
    {
    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (isalpha(c) || c == <span class="charliteral">&#39;_&#39;</span> || c == <span class="charliteral">&#39;.&#39;</span> || c == <span class="charliteral">&#39;$&#39;</span>)
        bp = <a class="code" href="reader_8c.html#a47f6ab5db224a190b33568ed55a03eaf">get_name</a>();
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\&#39;&#39;</span> || c == <span class="charliteral">&#39;&quot;&#39;</span>)
        bp = <a class="code" href="reader_8c.html#acfb64f081b0d9c4536e90c5352ce9c2c">get_literal</a>();
    <span class="keywordflow">else</span>
        <span class="keywordflow">return</span>;

    <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a> &amp;&amp; tag != bp-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a>)
        <a class="code" href="error_8c.html#a3d339813f1a66f2c299cbb4a23b4729d">retyped_warning</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
    bp-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a> = tag;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a416a4e795e86e5666f1a734793f9636e"></a><!-- doxytag: member="reader.c::dup_line" ref="a416a4e795e86e5666f1a734793f9636e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00099">99</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, and <a class="el" href="error_8c_source.html#l00014">no_space()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, <a class="el" href="reader_8c_source.html#l00300">copy_text()</a>, <a class="el" href="reader_8c_source.html#l00431">copy_union()</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, and <a class="el" href="reader_8c_source.html#l00116">skip_comment()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">char</span> *p, *s, *t;

    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0) <span class="keywordflow">return</span> (0);
    s = <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>;
    <span class="keywordflow">while</span> (*s != <span class="charliteral">&#39;\n&#39;</span>) ++s;
    p = <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(s - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> + 1);
    <span class="keywordflow">if</span> (p == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();

    s = <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>;
    t = p;
    <span class="keywordflow">while</span> ((*t++ = *s++) != <span class="charliteral">&#39;\n&#39;</span>) <span class="keywordflow">continue</span>;
    <span class="keywordflow">return</span> (p);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae8594bb30d2b0297a4f533a4268c5d0a"></a><!-- doxytag: member="reader.c::end_rule" ref="ae8594bb30d2b0297a4f533a4268c5d0a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#ae8594bb30d2b0297a4f533a4268c5d0a">end_rule</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01100">1100</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="error_8c_source.html#l00298">default_action_warning()</a>, <a class="el" href="reader_8c_source.html#l01015">expand_items()</a>, <a class="el" href="reader_8c_source.html#l00023">last_was_action</a>, <a class="el" href="reader_8c_source.html#l00025">maxitems</a>, <a class="el" href="main_8c_source.html#l00040">nitems</a>, and <a class="el" href="main_8c_source.html#l00041">nrules</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, and <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> i;

    <span class="keywordflow">if</span> (!<a class="code" href="reader_8c.html#a8bdcde8bd00b0f20ab9b266713ade2ad">last_was_action</a> &amp;&amp; <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>]-&gt;tag)
    {
    <span class="keywordflow">for</span> (i = <a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> - 1; <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[i]; --i) <span class="keywordflow">continue</span>;
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[i+1] == 0 || <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[i+1]-&gt;tag != <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>]-&gt;tag)
        <a class="code" href="error_8c.html#adb0403f76d903f343861ba458e8d4a57">default_action_warning</a>();
    }

    <a class="code" href="reader_8c.html#a8bdcde8bd00b0f20ab9b266713ade2ad">last_was_action</a> = 0;
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> &gt;= <a class="code" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a>) <a class="code" href="reader_8c.html#a2d5a55a1a526ac853c3234ea51ee18f8">expand_items</a>();
    <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a>] = 0;
    ++<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a>;
    ++<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2d5a55a1a526ac853c3234ea51ee18f8"></a><!-- doxytag: member="reader.c::expand_items" ref="a2d5a55a1a526ac853c3234ea51ee18f8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a2d5a55a1a526ac853c3234ea51ee18f8">expand_items</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01015">1015</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00025">maxitems</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, and <a class="el" href="defs_8h_source.html#l00106">REALLOC</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l01100">end_rule()</a>, and <a class="el" href="reader_8c_source.html#l01119">insert_empty_rule()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a> += 300;
    <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a> = (<a class="code" href="structbucket.html">bucket</a> **) <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>, <a class="code" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a>*<span class="keyword">sizeof</span>(<a class="code" href="structbucket.html">bucket</a> *));
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a26f803a6175f255b34b89151133c51f6"></a><!-- doxytag: member="reader.c::expand_rules" ref="a26f803a6175f255b34b89151133c51f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a26f803a6175f255b34b89151133c51f6">expand_rules</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01023">1023</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00028">maxrules</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, <a class="el" href="main_8c_source.html#l00056">rassoc</a>, <a class="el" href="defs_8h_source.html#l00106">REALLOC</a>, and <a class="el" href="main_8c_source.html#l00055">rprec</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01119">insert_empty_rule()</a>, and <a class="el" href="reader_8c_source.html#l01085">start_rule()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a> += 100;
    <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a> = (<a class="code" href="structbucket.html">bucket</a> **) <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>, <a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a>*<span class="keyword">sizeof</span>(<a class="code" href="structbucket.html">bucket</a> *));
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a> = (<span class="keywordtype">short</span> *) <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>, <a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a> = (<span class="keywordtype">char</span> *) <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>, <a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae565a221030d4176917fd2ac6ff858e0"></a><!-- doxytag: member="reader.c::free_tags" ref="ae565a221030d4176917fd2ac6ff858e0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#ae565a221030d4176917fd2ac6ff858e0">free_tags</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01479">1479</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="reader_8c_source.html#l00013">ntags</a>, and <a class="el" href="reader_8c_source.html#l00014">tag_table</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01756">reader()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> i;

    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a> == 0) <span class="keywordflow">return</span>;

    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="defs_8h.html#a498032a5fea553cb67344de2e38ada5d">ntags</a>; ++i)
    {
    assert(<a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a>[i]);
    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(<a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a>[i]);
    }
    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(<a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a204317aa3b6d154f1abff12df35953df"></a><!-- doxytag: member="reader.c::get_line" ref="a204317aa3b6d154f1abff12df35953df" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00052">52</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="main_8c_source.html#l00031">input_file</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="reader_8c_source.html#l00008">LINESIZE</a>, <a class="el" href="reader_8c_source.html#l00018">linesize</a>, <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, <a class="el" href="defs_8h_source.html#l00106">REALLOC</a>, and <a class="el" href="reader_8c_source.html#l00016">saw_eof</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, <a class="el" href="reader_8c_source.html#l00300">copy_text()</a>, <a class="el" href="reader_8c_source.html#l00431">copy_union()</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, and <a class="el" href="reader_8c_source.html#l00116">skip_comment()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> FILE *f = <a class="code" href="defs_8h.html#aa74b9afafd36575ac4b16ddc93cf956a">input_file</a>;
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <span class="keywordtype">int</span> i;

    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a3711173060f4ba6063466079e1735f69">saw_eof</a> || (c = getc(f)) == EOF)
    {
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>) { <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>); <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> = 0; }
    <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> = 0;
    <a class="code" href="reader_8c.html#a3711173060f4ba6063466079e1735f69">saw_eof</a> = 1;
    <span class="keywordflow">return</span>;
    }

    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0 || <a class="code" href="reader_8c.html#a91e4d8a878948ae4d8573c4a9894b2e2">linesize</a> != (<a class="code" href="reader_8c.html#a0095c1e0ae26941efea12c77f2232f2f">LINESIZE</a> + 1))
    {
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>) <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>);
    <a class="code" href="reader_8c.html#a91e4d8a878948ae4d8573c4a9894b2e2">linesize</a> = <a class="code" href="reader_8c.html#a0095c1e0ae26941efea12c77f2232f2f">LINESIZE</a> + 1;
    <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> = <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#a91e4d8a878948ae4d8573c4a9894b2e2">linesize</a>);
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    }

    i = 0;
    ++<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
    <span class="keywordflow">for</span> (;;)
    {
    <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>[i]  =  c;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>) { <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> = <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>; <span class="keywordflow">return</span>; }
    <span class="keywordflow">if</span> (++i &gt;= <a class="code" href="reader_8c.html#a91e4d8a878948ae4d8573c4a9894b2e2">linesize</a>)
    {
        <a class="code" href="reader_8c.html#a91e4d8a878948ae4d8573c4a9894b2e2">linesize</a> += <a class="code" href="reader_8c.html#a0095c1e0ae26941efea12c77f2232f2f">LINESIZE</a>;
        <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> = <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="reader_8c.html#a91e4d8a878948ae4d8573c4a9894b2e2">linesize</a>);
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> ==  0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    }
    c = getc(f);
    <span class="keywordflow">if</span> (c ==  EOF)
    {
        <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>[i] = <span class="charliteral">&#39;\n&#39;</span>;
        <a class="code" href="reader_8c.html#a3711173060f4ba6063466079e1735f69">saw_eof</a> = 1;
        <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> = <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>;
        <span class="keywordflow">return</span>;
    }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="acfb64f081b0d9c4536e90c5352ce9c2c"></a><!-- doxytag: member="reader.c::get_literal" ref="acfb64f081b0d9c4536e90c5352ce9c2c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbucket.html">bucket</a>* <a class="el" href="reader_8c.html#acfb64f081b0d9c4536e90c5352ce9c2c">get_literal</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00586">586</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00010">cache</a>, <a class="el" href="reader_8c_source.html#l00037">cachec()</a>, <a class="el" href="reader_8c_source.html#l00011">cinc</a>, <a class="el" href="defs_8h_source.html#l00121">bucket::class</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00099">dup_line()</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="reader_8c_source.html#l00052">get_line()</a>, <a class="el" href="reader_8c_source.html#l00572">hexval()</a>, <a class="el" href="error_8c_source.html#l00146">illegal_character()</a>, <a class="el" href="defs_8h_source.html#l00089">IS_OCTAL</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="defs_8h.html#aeb8facfda1fb8dcf16a3120589eb90e0">lookup()</a>, <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, <a class="el" href="defs_8h_source.html#l00021">MAXCHAR</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, <a class="el" href="defs_8h_source.html#l00033">NUL</a>, <a class="el" href="defs_8h_source.html#l00071">TERM</a>, <a class="el" href="defs_8h_source.html#l00077">UNDEFINED</a>, <a class="el" href="error_8c_source.html#l00088">unterminated_string()</a>, and <a class="el" href="defs_8h_source.html#l00118">bucket::value</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l00827">declare_tokens()</a>, <a class="el" href="reader_8c_source.html#l00889">declare_types()</a>, and <a class="el" href="reader_8c_source.html#l01403">mark_symbol()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c, quote;
    <span class="keyword">register</span> <span class="keywordtype">int</span> i;
    <span class="keyword">register</span> <span class="keywordtype">int</span> n;
    <span class="keyword">register</span> <span class="keywordtype">char</span> *s;
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;
    <span class="keywordtype">int</span> s_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
    <span class="keywordtype">char</span> *s_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
    <span class="keywordtype">char</span> *s_cptr = s_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>);

    quote = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
    <a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a> = 0;
    <span class="keywordflow">for</span> (;;)
    {
    c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
    <span class="keywordflow">if</span> (c == quote) <span class="keywordflow">break</span>;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>) <a class="code" href="error_8c.html#a1be74faa1a912de2fd380aa9a4de6eb2">unterminated_string</a>(s_lineno, s_line, s_cptr);
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\\&#39;</span>)
    {
        <span class="keywordtype">char</span> *c_cptr = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - 1;

        c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
        <span class="keywordflow">switch</span> (c)
        {
        <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:
        <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0) <a class="code" href="error_8c.html#a1be74faa1a912de2fd380aa9a4de6eb2">unterminated_string</a>(s_lineno, s_line, s_cptr);
        <span class="keywordflow">continue</span>;

        <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:
        <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>:
        n = c - <span class="charliteral">&#39;0&#39;</span>;
        c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#ad346eec75775228d87f28acc00ce9259">IS_OCTAL</a>(c))
        {
            n = (n &lt;&lt; 3) + (c - <span class="charliteral">&#39;0&#39;</span>);
            c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
            <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#ad346eec75775228d87f28acc00ce9259">IS_OCTAL</a>(c))
            {
            n = (n &lt;&lt; 3) + (c - <span class="charliteral">&#39;0&#39;</span>);
            ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
            }
        }
        <span class="keywordflow">if</span> (n &gt; <a class="code" href="defs_8h.html#ac1535592e39e7edf0cafbd5e695ea622">MAXCHAR</a>) <a class="code" href="error_8c.html#aad64de11ac1b5b04da452109e0c6e55a">illegal_character</a>(c_cptr);
        c = n;
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:
        c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>++;
        n = <a class="code" href="reader_8c.html#a9ce1e6abd7c2eac7e850297b7e1bbc6e">hexval</a>(c);
        <span class="keywordflow">if</span> (n &lt; 0 || n &gt;= 16)
            <a class="code" href="error_8c.html#aad64de11ac1b5b04da452109e0c6e55a">illegal_character</a>(c_cptr);
        <span class="keywordflow">for</span> (;;)
        {
            c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
            i = <a class="code" href="reader_8c.html#a9ce1e6abd7c2eac7e850297b7e1bbc6e">hexval</a>(c);
            <span class="keywordflow">if</span> (i &lt; 0 || i &gt;= 16) <span class="keywordflow">break</span>;
            ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
            n = (n &lt;&lt; 4) + i;
            <span class="keywordflow">if</span> (n &gt; <a class="code" href="defs_8h.html#ac1535592e39e7edf0cafbd5e695ea622">MAXCHAR</a>) <a class="code" href="error_8c.html#aad64de11ac1b5b04da452109e0c6e55a">illegal_character</a>(c_cptr);
        }
        c = n;
        <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: c = 7; <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: c = <span class="charliteral">&#39;\b&#39;</span>; <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>: c = <span class="charliteral">&#39;\f&#39;</span>; <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: c = <span class="charliteral">&#39;\n&#39;</span>; <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>: c = <span class="charliteral">&#39;\r&#39;</span>; <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>: c = <span class="charliteral">&#39;\t&#39;</span>; <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: c = <span class="charliteral">&#39;\v&#39;</span>; <span class="keywordflow">break</span>;
        }
    }
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(c);
    }
    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(s_line);

    n = <a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a>;
    s = <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(n);
    <span class="keywordflow">if</span> (s == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    
    <span class="keywordflow">for</span> (i = 0; i &lt; n; ++i)
    s[i] = <a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>[i];

    <a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a> = 0;
    <span class="keywordflow">if</span> (n == 1)
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;\&#39;&#39;</span>);
    <span class="keywordflow">else</span>
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;&quot;&#39;</span>);

    <span class="keywordflow">for</span> (i = 0; i &lt; n; ++i)
    {
    c = ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)s)[i];
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\\&#39;</span> || c == <a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>[0])
    {
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;\\&#39;</span>);
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(c);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isprint(c))
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(c);
    <span class="keywordflow">else</span>
    {
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;\\&#39;</span>);
        <span class="keywordflow">switch</span> (c)
        {
        <span class="keywordflow">case</span> 7: <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;a&#39;</span>); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;\b&#39;</span>: <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;b&#39;</span>); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;\f&#39;</span>: <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;f&#39;</span>); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>: <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;n&#39;</span>); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;\r&#39;</span>: <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;r&#39;</span>); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>: <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;t&#39;</span>); <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="charliteral">&#39;\v&#39;</span>: <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;v&#39;</span>); <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(((c &gt;&gt; 6) &amp; 7) + <span class="charliteral">&#39;0&#39;</span>);
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(((c &gt;&gt; 3) &amp; 7) + <span class="charliteral">&#39;0&#39;</span>);
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>((c &amp; 7) + <span class="charliteral">&#39;0&#39;</span>);
        <span class="keywordflow">break</span>;
        }
    }
    }

    <span class="keywordflow">if</span> (n == 1)
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;\&#39;&#39;</span>);
    <span class="keywordflow">else</span>
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<span class="charliteral">&#39;&quot;&#39;</span>);

    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<a class="code" href="defs_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>);
    bp = <a class="code" href="defs_8h.html#aeb8facfda1fb8dcf16a3120589eb90e0">lookup</a>(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>);
    bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> = <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>;
    <span class="keywordflow">if</span> (n == 1 &amp;&amp; bp-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a> == <a class="code" href="defs_8h.html#a2dc3870be25a19efa2940150507aaf71">UNDEFINED</a>)
    bp-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a> = *(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)s;
    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(s);

    <span class="keywordflow">return</span> (bp);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a47f6ab5db224a190b33568ed55a03eaf"></a><!-- doxytag: member="reader.c::get_name" ref="a47f6ab5db224a190b33568ed55a03eaf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbucket.html">bucket</a>* <a class="el" href="reader_8c.html#a47f6ab5db224a190b33568ed55a03eaf">get_name</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00747">747</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00010">cache</a>, <a class="el" href="reader_8c_source.html#l00037">cachec()</a>, <a class="el" href="reader_8c_source.html#l00011">cinc</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="defs_8h_source.html#l00088">IS_IDENT</a>, <a class="el" href="reader_8c_source.html#l00725">is_reserved()</a>, <a class="el" href="defs_8h.html#aeb8facfda1fb8dcf16a3120589eb90e0">lookup()</a>, <a class="el" href="defs_8h_source.html#l00033">NUL</a>, and <a class="el" href="error_8c_source.html#l00156">used_reserved()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, <a class="el" href="reader_8c_source.html#l00917">declare_start()</a>, <a class="el" href="reader_8c_source.html#l00827">declare_tokens()</a>, <a class="el" href="reader_8c_source.html#l00889">declare_types()</a>, and <a class="el" href="reader_8c_source.html#l01403">mark_symbol()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;

    <a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a> = 0;
    <span class="keywordflow">for</span> (c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>; <a class="code" href="defs_8h.html#ad96f7fed8aed377fc0bc68da38768d68">IS_IDENT</a>(c); c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>)
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(c);
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<a class="code" href="defs_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>);

    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a205d802dd9de1b8e85d44a321f33365c">is_reserved</a>(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>)) <a class="code" href="error_8c.html#a28ccf9e0cd69034b61cd32e13e9a9e00">used_reserved</a>(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>);

    <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#aeb8facfda1fb8dcf16a3120589eb90e0">lookup</a>(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>));
}
</pre></div>
</div>
</div>
<a class="anchor" id="aceeb8c6c5418f8ac9c9b5666f4047ae3"></a><!-- doxytag: member="reader.c::get_number" ref="aceeb8c6c5418f8ac9c9b5666f4047ae3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#aceeb8c6c5418f8ac9c9b5666f4047ae3">get_number</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00763">763</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, and <a class="el" href="reader_8c_source.html#l00827">declare_tokens()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <span class="keywordtype">int</span> n;

    n = 0;
    <span class="keywordflow">for</span> (c = *<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>; isdigit(c); c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>)
    n = 10*n + (c - <span class="charliteral">&#39;0&#39;</span>);

    <span class="keywordflow">return</span> (n);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0d5a7fe7641edf38078ba5e99536772d"></a><!-- doxytag: member="reader.c::get_tag" ref="a0d5a7fe7641edf38078ba5e99536772d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="reader_8c.html#a0d5a7fe7641edf38078ba5e99536772d">get_tag</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00777">777</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00010">cache</a>, <a class="el" href="reader_8c_source.html#l00037">cachec()</a>, <a class="el" href="reader_8c_source.html#l00011">cinc</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00099">dup_line()</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="error_8c_source.html#l00134">illegal_tag()</a>, <a class="el" href="defs_8h_source.html#l00088">IS_IDENT</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, <a class="el" href="reader_8c_source.html#l00013">ntags</a>, <a class="el" href="defs_8h_source.html#l00033">NUL</a>, <a class="el" href="defs_8h_source.html#l00106">REALLOC</a>, <a class="el" href="defs_8h.html#add539a5755e4c4070b0c8ca97477fe47">strcpy()</a>, <a class="el" href="reader_8c_source.html#l00014">tag_table</a>, <a class="el" href="reader_8c_source.html#l00013">tagmax</a>, and <a class="el" href="error_8c_source.html#l00029">unexpected_EOF()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, <a class="el" href="reader_8c_source.html#l00827">declare_tokens()</a>, and <a class="el" href="reader_8c_source.html#l00889">declare_types()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <span class="keywordtype">int</span> i;
    <span class="keyword">register</span> <span class="keywordtype">char</span> *s;
    <span class="keywordtype">int</span> t_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
    <span class="keywordtype">char</span> *t_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
    <span class="keywordtype">char</span> *t_cptr = t_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>);

    ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    <span class="keywordflow">if</span> (!isalpha(c) &amp;&amp; c != <span class="charliteral">&#39;_&#39;</span> &amp;&amp; c != <span class="charliteral">&#39;$&#39;</span>)
    <a class="code" href="error_8c.html#a3abdd7162e1bf8338bfc5c31c590ffe1">illegal_tag</a>(t_lineno, t_line, t_cptr);

    <a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a> = 0;
    <span class="keywordflow">do</span> { <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(c); c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>; } <span class="keywordflow">while</span> (<a class="code" href="defs_8h.html#ad96f7fed8aed377fc0bc68da38768d68">IS_IDENT</a>(c));
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<a class="code" href="defs_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>);

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;&gt;&#39;</span>)
    <a class="code" href="error_8c.html#a3abdd7162e1bf8338bfc5c31c590ffe1">illegal_tag</a>(t_lineno, t_line, t_cptr);
    ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;

    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="defs_8h.html#a498032a5fea553cb67344de2e38ada5d">ntags</a>; ++i)
    {
    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a>[i]) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a>[i]);
    }

    <span class="keywordflow">if</span> (ntags &gt;= <a class="code" href="reader_8c.html#a2276541d2730a13720eae3a572a8a95c">tagmax</a>)
    {
    <a class="code" href="reader_8c.html#a2276541d2730a13720eae3a572a8a95c">tagmax</a> += 16;
    <a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a> = (<span class="keywordtype">char</span> **)
            (<a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a> ? <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a>, <a class="code" href="reader_8c.html#a2276541d2730a13720eae3a572a8a95c">tagmax</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *))
                   : <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#a2276541d2730a13720eae3a572a8a95c">tagmax</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *)));
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    }

    s = <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a>);
    <span class="keywordflow">if</span>  (s == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a>(s, <a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>);
    <a class="code" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a>[<a class="code" href="defs_8h.html#a498032a5fea553cb67344de2e38ada5d">ntags</a>] = s;
    ++<a class="code" href="defs_8h.html#a498032a5fea553cb67344de2e38ada5d">ntags</a>;
    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(t_line);
    <span class="keywordflow">return</span> (s);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9ce1e6abd7c2eac7e850297b7e1bbc6e"></a><!-- doxytag: member="reader.c::hexval" ref="a9ce1e6abd7c2eac7e850297b7e1bbc6e" args="(int c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a9ce1e6abd7c2eac7e850297b7e1bbc6e">hexval</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00572">572</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;9&#39;</span>)
    <span class="keywordflow">return</span> (c - <span class="charliteral">&#39;0&#39;</span>);
    <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;F&#39;</span>)
    <span class="keywordflow">return</span> (c - <span class="charliteral">&#39;A&#39;</span> + 10);
    <span class="keywordflow">if</span> (c &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; c &lt;= <span class="charliteral">&#39;f&#39;</span>)
    <span class="keywordflow">return</span> (c - <span class="charliteral">&#39;a&#39;</span> + 10);
    <span class="keywordflow">return</span> (-1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a329c5f0f613a0bef43be8262a531e952"></a><!-- doxytag: member="reader.c::initialize_grammar" ref="a329c5f0f613a0bef43be8262a531e952" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a329c5f0f613a0bef43be8262a531e952">initialize_grammar</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00984">984</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, <a class="el" href="reader_8c_source.html#l00025">maxitems</a>, <a class="el" href="reader_8c_source.html#l00028">maxrules</a>, <a class="el" href="main_8c_source.html#l00040">nitems</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, <a class="el" href="main_8c_source.html#l00041">nrules</a>, <a class="el" href="main_8c_source.html#l00056">rassoc</a>, <a class="el" href="main_8c_source.html#l00055">rprec</a>, and <a class="el" href="defs_8h_source.html#l00056">TOKEN</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> = 4;
    <a class="code" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a> = 300;
    <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a> = (<a class="code" href="structbucket.html">bucket</a> **) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a>*<span class="keyword">sizeof</span>(<a class="code" href="structbucket.html">bucket</a> *));
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[0] = 0;
    <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[1] = 0;
    <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[2] = 0;
    <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[3] = 0;

    <a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a> = 3;
    <a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a> = 100;
    <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a> = (<a class="code" href="structbucket.html">bucket</a> **) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a>*<span class="keyword">sizeof</span>(<a class="code" href="structbucket.html">bucket</a> *));
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[0] = 0;
    <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[1] = 0;
    <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[2] = 0;
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a> = (<span class="keywordtype">short</span> *) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[0] = 0;
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[1] = 0;
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[2] = 0;
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a> = (<span class="keywordtype">char</span> *) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[0] = <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[1] = <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[2] = <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac59b5c8d9dca9fc4b2614fd186ec6c55"></a><!-- doxytag: member="reader.c::insert_empty_rule" ref="ac59b5c8d9dca9fc4b2614fd186ec6c55" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#ac59b5c8d9dca9fc4b2614fd186ec6c55">insert_empty_rule</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01119">1119</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00010">cache</a>, <a class="el" href="defs_8h_source.html#l00121">bucket::class</a>, <a class="el" href="reader_8c_source.html#l01015">expand_items()</a>, <a class="el" href="reader_8c_source.html#l01023">expand_rules()</a>, <a class="el" href="reader_8c_source.html#l00022">gensym</a>, <a class="el" href="symtab_8c_source.html#l00012">last_symbol</a>, <a class="el" href="defs_8h.html#ae2d24c742f22bea84ba3c02349ca8e9b">make_bucket()</a>, <a class="el" href="reader_8c_source.html#l00025">maxitems</a>, <a class="el" href="reader_8c_source.html#l00028">maxrules</a>, <a class="el" href="defs_8h_source.html#l00115">bucket::next</a>, <a class="el" href="main_8c_source.html#l00040">nitems</a>, <a class="el" href="defs_8h_source.html#l00072">NONTERM</a>, <a class="el" href="main_8c_source.html#l00041">nrules</a>, <a class="el" href="main_8c_source.html#l00056">rassoc</a>, <a class="el" href="main_8c_source.html#l00055">rprec</a>, <a class="el" href="defs_8h_source.html#l00117">bucket::tag</a>, and <a class="el" href="defs_8h_source.html#l00056">TOKEN</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, and <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp, **bpp;

    assert(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>);
    sprintf(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;$$%d&quot;</span>, ++<a class="code" href="reader_8c.html#a8b9e707c64fb36363191b197f807250d">gensym</a>);
    bp = <a class="code" href="defs_8h.html#ae2d24c742f22bea84ba3c02349ca8e9b">make_bucket</a>(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>);
    <a class="code" href="defs_8h.html#a48198818a451641115faa85190207fbc">last_symbol</a>-&gt;<a class="code" href="structbucket.html#a70c4dfb30de550c0caf1ce95f5e8803f">next</a> = bp;
    <a class="code" href="defs_8h.html#a48198818a451641115faa85190207fbc">last_symbol</a> = bp;
    bp-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a> = <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>]-&gt;<a class="code" href="structbucket.html#a3d2d030cba5394245d67f95c35760967">tag</a>;
    bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> = <a class="code" href="defs_8h.html#a28356090ed8cd4b3f0611008270b6ae3">NONTERM</a>;

    <span class="keywordflow">if</span> ((<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> += 2) &gt; <a class="code" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a>)
    <a class="code" href="reader_8c.html#a2d5a55a1a526ac853c3234ea51ee18f8">expand_items</a>();
    bpp = <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a> + <a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a> - 1;
    *bpp-- = bp;
    <span class="keywordflow">while</span> (bpp[0] = bpp[-1]) --bpp;

    <span class="keywordflow">if</span> (++<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a> &gt;= <a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a>)
    <a class="code" href="reader_8c.html#a26f803a6175f255b34b89151133c51f6">expand_rules</a>();
    <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] = <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>-1];
    <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>-1] = bp;
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] = <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>-1];
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>-1] = 0;
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] = <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>-1];
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>-1] = <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a205d802dd9de1b8e85d44a321f33365c"></a><!-- doxytag: member="reader.c::is_reserved" ref="a205d802dd9de1b8e85d44a321f33365c" args="(char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a205d802dd9de1b8e85d44a321f33365c">is_reserved</a> </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00725">725</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00033">NUL</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00747">get_name()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> *s;

    <span class="keywordflow">if</span> (strcmp(name, <span class="stringliteral">&quot;.&quot;</span>) == 0 ||
        strcmp(name, <span class="stringliteral">&quot;$accept&quot;</span>) == 0 ||
        strcmp(name, <span class="stringliteral">&quot;$end&quot;</span>) == 0)
    <span class="keywordflow">return</span> (1);

    <span class="keywordflow">if</span> (name[0] == <span class="charliteral">&#39;$&#39;</span> &amp;&amp; name[1] == <span class="charliteral">&#39;$&#39;</span> &amp;&amp; isdigit(name[2]))
    {
    s = name + 3;
    <span class="keywordflow">while</span> (isdigit(*s)) ++s;
    <span class="keywordflow">if</span> (*s == <a class="code" href="defs_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>) <span class="keywordflow">return</span> (1);
    }

    <span class="keywordflow">return</span> (0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7b9f905e2f933d429fa1b479fd058f03"></a><!-- doxytag: member="reader.c::keyword" ref="a7b9f905e2f933d429fa1b479fd058f03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a7b9f905e2f933d429fa1b479fd058f03">keyword</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00209">209</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00010">cache</a>, <a class="el" href="reader_8c_source.html#l00037">cachec()</a>, <a class="el" href="reader_8c_source.html#l00011">cinc</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="defs_8h_source.html#l00065">IDENT</a>, <a class="el" href="defs_8h_source.html#l00057">LEFT</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="defs_8h_source.html#l00060">MARK</a>, <a class="el" href="defs_8h_source.html#l00059">NONASSOC</a>, <a class="el" href="defs_8h_source.html#l00033">NUL</a>, <a class="el" href="defs_8h_source.html#l00058">RIGHT</a>, <a class="el" href="defs_8h_source.html#l00063">START</a>, <a class="el" href="error_8c_source.html#l00064">syntax_error()</a>, <a class="el" href="defs_8h_source.html#l00061">TEXT</a>, <a class="el" href="defs_8h_source.html#l00056">TOKEN</a>, <a class="el" href="defs_8h_source.html#l00062">TYPE</a>, and <a class="el" href="defs_8h_source.html#l00064">UNION</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, and <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keywordtype">char</span> *t_cptr = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;

    c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">if</span> (isalpha(c))
    {
    <a class="code" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a> = 0;
    <span class="keywordflow">for</span> (;;)
    {
        <span class="keywordflow">if</span> (isalpha(c))
        {
        <span class="keywordflow">if</span> (isupper(c)) c = tolower(c);
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(c);
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isdigit(c) || c == <span class="charliteral">&#39;_&#39;</span> || c == <span class="charliteral">&#39;.&#39;</span> || c == <span class="charliteral">&#39;$&#39;</span>)
        <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(c);
        <span class="keywordflow">else</span>
        <span class="keywordflow">break</span>;
        c = *++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    }
    <a class="code" href="reader_8c.html#a04707e6fc9527eaf37d68dafdc9483a9">cachec</a>(<a class="code" href="defs_8h.html#af19d48b9f61047a668649a2f9dc317ff">NUL</a>);

    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;token&quot;</span>) == 0 || strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;term&quot;</span>) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>);
    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;type&quot;</span>) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a5a392548f2df67370cb15d2a5d75cd7b">TYPE</a>);
    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;left&quot;</span>) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a437ef08681e7210d6678427030446a54">LEFT</a>);
    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;right&quot;</span>) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a80fb826a684cf3f0d306b22aa100ddac">RIGHT</a>);
    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;nonassoc&quot;</span>) == 0 || strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;binary&quot;</span>) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a62fcdc2ef6d34c713ae6e2b7fbc09757">NONASSOC</a>);
    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;start&quot;</span>) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a3018c7600b7bb9866400596a56a57af7">START</a>);
    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;union&quot;</span>) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#adb8e526f08326af80d46f91f9d686e82">UNION</a>);
    <span class="keywordflow">if</span> (strcmp(<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a>, <span class="stringliteral">&quot;ident&quot;</span>) == 0)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a096a20e68e4e980b6845ad843ec2c3a7">IDENT</a>);
    }
    <span class="keywordflow">else</span>
    {
    ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;{&#39;</span>)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a52e3db5a1724beab41ebbabe72460f12">TEXT</a>);
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;%&#39;</span> || c == <span class="charliteral">&#39;\\&#39;</span>)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#abeb214368f7f34cff98de9047aa6eb2f">MARK</a>);
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;&lt;&#39;</span>)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a437ef08681e7210d6678427030446a54">LEFT</a>);
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;&gt;&#39;</span>)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a80fb826a684cf3f0d306b22aa100ddac">RIGHT</a>);
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;0&#39;</span>)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>);
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;2&#39;</span>)
        <span class="keywordflow">return</span> (<a class="code" href="defs_8h.html#a62fcdc2ef6d34c713ae6e2b7fbc09757">NONASSOC</a>);
    }
    <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, t_cptr);
    <span class="comment">/*NOTREACHED*/</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="aae3985d515e47c03afc20f92c0292531"></a><!-- doxytag: member="reader.c::mark_symbol" ref="aae3985d515e47c03afc20f92c0292531" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#aae3985d515e47c03afc20f92c0292531">mark_symbol</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01403">1403</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00122">bucket::assoc</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="defs_8h_source.html#l00088">IS_IDENT</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="main_8c_source.html#l00041">nrules</a>, <a class="el" href="defs_8h_source.html#l00120">bucket::prec</a>, <a class="el" href="error_8c_source.html#l00231">prec_redeclared()</a>, <a class="el" href="main_8c_source.html#l00056">rassoc</a>, <a class="el" href="main_8c_source.html#l00055">rprec</a>, <a class="el" href="error_8c_source.html#l00064">syntax_error()</a>, and <a class="el" href="defs_8h_source.html#l00077">UNDEFINED</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;

    c = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>[1];
    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;%&#39;</span> || c == <span class="charliteral">&#39;\\&#39;</span>)
    {
    <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> += 2;
    <span class="keywordflow">return</span> (1);
    }

    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;=&#39;</span>)
    <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> += 2;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((c == <span class="charliteral">&#39;p&#39;</span> || c == <span class="charliteral">&#39;P&#39;</span>) &amp;&amp;
         ((c = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>[2]) == <span class="charliteral">&#39;r&#39;</span> || c == <span class="charliteral">&#39;R&#39;</span>) &amp;&amp;
         ((c = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>[3]) == <span class="charliteral">&#39;e&#39;</span> || c == <span class="charliteral">&#39;E&#39;</span>) &amp;&amp;
         ((c = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>[4]) == <span class="charliteral">&#39;c&#39;</span> || c == <span class="charliteral">&#39;C&#39;</span>) &amp;&amp;
         ((c = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>[5], !<a class="code" href="defs_8h.html#ad96f7fed8aed377fc0bc68da38768d68">IS_IDENT</a>(c))))
    <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> += 5;
    <span class="keywordflow">else</span>
    <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);

    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (isalpha(c) || c == <span class="charliteral">&#39;_&#39;</span> || c == <span class="charliteral">&#39;.&#39;</span> || c == <span class="charliteral">&#39;$&#39;</span>)
    bp = <a class="code" href="reader_8c.html#a47f6ab5db224a190b33568ed55a03eaf">get_name</a>();
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\&#39;&#39;</span> || c == <span class="charliteral">&#39;&quot;&#39;</span>)
    bp = <a class="code" href="reader_8c.html#acfb64f081b0d9c4536e90c5352ce9c2c">get_literal</a>();
    <span class="keywordflow">else</span>
    {
    <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);
    <span class="comment">/*NOTREACHED*/</span>
    }

    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] != <a class="code" href="defs_8h.html#a2dc3870be25a19efa2940150507aaf71">UNDEFINED</a> &amp;&amp; bp-&gt;<a class="code" href="structbucket.html#a36012bcc4fbe73a5095dc858746f6439">prec</a> != <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>])
    <a class="code" href="error_8c.html#a73b7d91e555fcb312db3d1561b8b0468">prec_redeclared</a>();

    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] = bp-&gt;<a class="code" href="structbucket.html#a36012bcc4fbe73a5095dc858746f6439">prec</a>;
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] = bp-&gt;<a class="code" href="structbucket.html#a60e2217a1c919890a10545ae4adb6e67">assoc</a>;
    <span class="keywordflow">return</span> (0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a11446424d65669df0f3a9e3b1cca57fa"></a><!-- doxytag: member="reader.c::nextc" ref="a11446424d65669df0f3a9e3b1cca57fa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00147">147</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00052">get_line()</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, and <a class="el" href="reader_8c_source.html#l00116">skip_comment()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, <a class="el" href="reader_8c_source.html#l00271">copy_ident()</a>, <a class="el" href="reader_8c_source.html#l00917">declare_start()</a>, <a class="el" href="reader_8c_source.html#l00827">declare_tokens()</a>, <a class="el" href="reader_8c_source.html#l00889">declare_types()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, <a class="el" href="reader_8c_source.html#l01403">mark_symbol()</a>, <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>, and <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">char</span> *s;

    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
    {
    <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
        <span class="keywordflow">return</span> (EOF);
    }

    s = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    <span class="keywordflow">for</span> (;;)
    {
    <span class="keywordflow">switch</span> (*s)
    {
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>:
        <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0) <span class="keywordflow">return</span> (EOF);
        s = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\f&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\r&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;\v&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;,&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;;&#39;</span>:
        ++s;
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:
        <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> = s;
        <span class="keywordflow">return</span> (<span class="charliteral">&#39;%&#39;</span>);

    <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:
        <span class="keywordflow">if</span> (s[1] == <span class="charliteral">&#39;*&#39;</span>)
        {
        <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> = s;
        <a class="code" href="reader_8c.html#ac812a775973bb1eb24e86256b2de6b8b">skip_comment</a>();
        s = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">break</span>;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s[1] == <span class="charliteral">&#39;/&#39;</span>)
        {
        <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0) <span class="keywordflow">return</span> (EOF);
        s = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
        <span class="keywordflow">break</span>;
        }
        <span class="comment">/* fall through */</span>

    <span class="keywordflow">default</span>:
        <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> = s;
        <span class="keywordflow">return</span> (*s);
    }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac095dad6352a9764b63b751824aa223d"></a><!-- doxytag: member="reader.c::pack_grammar" ref="ac095dad6352a9764b63b751824aa223d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#ac095dad6352a9764b63b751824aa223d">pack_grammar</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01661">1661</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00122">bucket::assoc</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="defs_8h_source.html#l00119">bucket::index</a>, <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, <a class="el" href="main_8c_source.html#l00040">nitems</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, <a class="el" href="main_8c_source.html#l00041">nrules</a>, <a class="el" href="reader_8c_source.html#l00021">prec</a>, <a class="el" href="defs_8h_source.html#l00120">bucket::prec</a>, <a class="el" href="main_8c_source.html#l00056">rassoc</a>, <a class="el" href="defs_8h_source.html#l00106">REALLOC</a>, <a class="el" href="main_8c_source.html#l00052">ritem</a>, <a class="el" href="main_8c_source.html#l00053">rlhs</a>, <a class="el" href="main_8c_source.html#l00055">rprec</a>, <a class="el" href="main_8c_source.html#l00054">rrhs</a>, <a class="el" href="main_8c_source.html#l00046">start_symbol</a>, <a class="el" href="defs_8h_source.html#l00071">TERM</a>, <a class="el" href="defs_8h_source.html#l00056">TOKEN</a>, and <a class="el" href="defs_8h_source.html#l00077">UNDEFINED</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01756">reader()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> i, j;
    <span class="keywordtype">int</span> assoc, <a class="code" href="reader_8c.html#a5bfbd3b409ebe4bc09f9ed58d177c2bd">prec</a>;

    <a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a> = (<span class="keywordtype">short</span> *) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="defs_8h.html#a1a693ed191d60c301334b79fa390f5c7">nitems</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a> = (<span class="keywordtype">short</span> *) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a6bdaef6424096c992feb769a96dcd665">rrhs</a> = (<span class="keywordtype">short</span> *) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>((<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>+1)*<span class="keyword">sizeof</span>(short));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a6bdaef6424096c992feb769a96dcd665">rrhs</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a> = (<span class="keywordtype">short</span> *) <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>, <a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a> = <a class="code" href="defs_8h.html#a4eb96de63ef1cd876d6cc8333e7b4356">REALLOC</a>(<a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>, <a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>);
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();

    <a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a>[0] = -1;
    <a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a>[1] = <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a>-&gt;<a class="code" href="structbucket.html#a0b897ab8d67b47728890052bdf40c742">index</a>;
    <a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a>[2] = 0;
    <a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a>[3] = -2;
    <a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a>[0] = 0;
    <a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a>[1] = 0;
    <a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a>[2] = <a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a>;
    <a class="code" href="defs_8h.html#a6bdaef6424096c992feb769a96dcd665">rrhs</a>[0] = 0;
    <a class="code" href="defs_8h.html#a6bdaef6424096c992feb769a96dcd665">rrhs</a>[1] = 0;
    <a class="code" href="defs_8h.html#a6bdaef6424096c992feb769a96dcd665">rrhs</a>[2] = 1;

    j = 4;
    <span class="keywordflow">for</span> (i = 3; i &lt; <a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>; ++i)
    {
    <a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a>[i] = <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[i]-&gt;<a class="code" href="structbucket.html#a0b897ab8d67b47728890052bdf40c742">index</a>;
    <a class="code" href="defs_8h.html#a6bdaef6424096c992feb769a96dcd665">rrhs</a>[i] = j;
    assoc = <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;
    prec = 0;
    <span class="keywordflow">while</span> (<a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[j])
    {
        <a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a>[j] = <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[j]-&gt;<a class="code" href="structbucket.html#a0b897ab8d67b47728890052bdf40c742">index</a>;
        <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[j]-&gt;<span class="keyword">class</span> == <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>)
        {
        prec = <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[j]-&gt;<a class="code" href="structbucket.html#a36012bcc4fbe73a5095dc858746f6439">prec</a>;
        assoc = <a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>[j]-&gt;<a class="code" href="structbucket.html#a60e2217a1c919890a10545ae4adb6e67">assoc</a>;
        }
        ++j;
    }
    <a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a>[j] = -i;
    ++j;
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[i] == <a class="code" href="defs_8h.html#a2dc3870be25a19efa2940150507aaf71">UNDEFINED</a>)
    {
        <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[i] = <a class="code" href="reader_8c.html#a5bfbd3b409ebe4bc09f9ed58d177c2bd">prec</a>;
        <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[i] = assoc;
    }
    }
    <a class="code" href="defs_8h.html#a6bdaef6424096c992feb769a96dcd665">rrhs</a>[i] = j;

    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(<a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>);
    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(<a class="code" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9f8a3fd57d7687e5e2fe6b548fee5bc5"></a><!-- doxytag: member="reader.c::pack_names" ref="a9f8a3fd57d7687e5e2fe6b548fee5bc5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a9f8a3fd57d7687e5e2fe6b548fee5bc5">pack_names</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01494">1494</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="symtab_8c_source.html#l00011">first_symbol</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, <a class="el" href="defs_8h_source.html#l00116">bucket::name</a>, <a class="el" href="reader_8c_source.html#l00032">name_pool</a>, <a class="el" href="reader_8c_source.html#l00031">name_pool_size</a>, <a class="el" href="defs_8h_source.html#l00115">bucket::next</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, and <a class="el" href="defs_8h.html#add539a5755e4c4070b0c8ca97477fe47">strcpy()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01756">reader()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;
    <span class="keyword">register</span> <span class="keywordtype">char</span> *p, *s, *t;

    <a class="code" href="reader_8c.html#af9422143c1c9b05eb373c0f8ae85676f">name_pool_size</a> = 13;  <span class="comment">/* 13 == sizeof(&quot;$end&quot;) + sizeof(&quot;$accept&quot;) */</span>
    <span class="keywordflow">for</span> (bp = <a class="code" href="defs_8h.html#a1ed0f15406e7f959f0a458f219c97944">first_symbol</a>; bp; bp = bp-&gt;<a class="code" href="structbucket.html#a70c4dfb30de550c0caf1ce95f5e8803f">next</a>)
    <a class="code" href="reader_8c.html#af9422143c1c9b05eb373c0f8ae85676f">name_pool_size</a> += strlen(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>) + 1;
    <a class="code" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a> = <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#af9422143c1c9b05eb373c0f8ae85676f">name_pool_size</a>);
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();

    <a class="code" href="defs_8h.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a>(<a class="code" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a>, <span class="stringliteral">&quot;$accept&quot;</span>);
    <a class="code" href="defs_8h.html#add539a5755e4c4070b0c8ca97477fe47">strcpy</a>(<a class="code" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a>+8, <span class="stringliteral">&quot;$end&quot;</span>);
    t = <a class="code" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a> + 13;
    <span class="keywordflow">for</span> (bp = <a class="code" href="defs_8h.html#a1ed0f15406e7f959f0a458f219c97944">first_symbol</a>; bp; bp = bp-&gt;<a class="code" href="structbucket.html#a70c4dfb30de550c0caf1ce95f5e8803f">next</a>)
    {
    p = t;
    s = bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>;
    <span class="keywordflow">while</span> (*t++ = *s++) <span class="keywordflow">continue</span>;
    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>);
    bp-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a> = p;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad4d46b52f342745925534555eb129ffb"></a><!-- doxytag: member="reader.c::pack_symbols" ref="ad4d46b52f342745925534555eb129ffb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#ad4d46b52f342745925534555eb129ffb">pack_symbols</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01537">1537</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="defs_8h_source.html#l00122">bucket::assoc</a>, <a class="el" href="defs_8h_source.html#l00121">bucket::class</a>, <a class="el" href="symtab_8c_source.html#l00011">first_symbol</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="defs_8h_source.html#l00119">bucket::index</a>, <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, <a class="el" href="defs_8h_source.html#l00116">bucket::name</a>, <a class="el" href="reader_8c_source.html#l00032">name_pool</a>, <a class="el" href="defs_8h_source.html#l00115">bucket::next</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, <a class="el" href="main_8c_source.html#l00042">nsyms</a>, <a class="el" href="main_8c_source.html#l00043">ntokens</a>, <a class="el" href="main_8c_source.html#l00044">nvars</a>, <a class="el" href="defs_8h_source.html#l00120">bucket::prec</a>, <a class="el" href="main_8c_source.html#l00046">start_symbol</a>, <a class="el" href="main_8c_source.html#l00050">symbol_assoc</a>, <a class="el" href="main_8c_source.html#l00047">symbol_name</a>, <a class="el" href="main_8c_source.html#l00049">symbol_prec</a>, <a class="el" href="main_8c_source.html#l00048">symbol_value</a>, <a class="el" href="defs_8h_source.html#l00071">TERM</a>, <a class="el" href="defs_8h_source.html#l00056">TOKEN</a>, <a class="el" href="defs_8h_source.html#l00077">UNDEFINED</a>, <a class="el" href="lalr_8c_source.html#l00007">shorts::value</a>, and <a class="el" href="defs_8h_source.html#l00118">bucket::value</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01756">reader()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> *bp;
    <span class="keyword">register</span> <a class="code" href="structbucket.html">bucket</a> **v;
    <span class="keyword">register</span> <span class="keywordtype">int</span> i, j, k, n;

    <a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a> = 2;
    <a class="code" href="defs_8h.html#a78b17f8032df23629c33ae6a2dad4741">ntokens</a> = 1;
    <span class="keywordflow">for</span> (bp = <a class="code" href="defs_8h.html#a1ed0f15406e7f959f0a458f219c97944">first_symbol</a>; bp; bp = bp-&gt;<a class="code" href="structbucket.html#a70c4dfb30de550c0caf1ce95f5e8803f">next</a>)
    {
    ++<a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>;
    <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> == <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>) ++<a class="code" href="defs_8h.html#a78b17f8032df23629c33ae6a2dad4741">ntokens</a>;
    }
    <a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a> = <a class="code" href="defs_8h.html#a78b17f8032df23629c33ae6a2dad4741">ntokens</a>;
    <a class="code" href="defs_8h.html#ae8f6d2fd6490d3153cb4133bf183a404">nvars</a> = <a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a> - <a class="code" href="defs_8h.html#a78b17f8032df23629c33ae6a2dad4741">ntokens</a>;

    <a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a> = (<span class="keywordtype">char</span> **) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a> = (<span class="keywordtype">short</span> *) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a4b47da62448a47ad7958024046169dab">symbol_prec</a> = (<span class="keywordtype">short</span> *) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">short</span>));
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a4b47da62448a47ad7958024046169dab">symbol_prec</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();
    <a class="code" href="defs_8h.html#a0c0abc3ce5784395b1a4e797360b20e7">symbol_assoc</a> = <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>);
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a0c0abc3ce5784395b1a4e797360b20e7">symbol_assoc</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();

    v = (<a class="code" href="structbucket.html">bucket</a> **) <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>*<span class="keyword">sizeof</span>(<a class="code" href="structbucket.html">bucket</a> *));
    <span class="keywordflow">if</span> (v == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();

    v[0] = 0;
    v[<a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a>] = 0;

    i = 1;
    j = <a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a> + 1;
    <span class="keywordflow">for</span> (bp = <a class="code" href="defs_8h.html#a1ed0f15406e7f959f0a458f219c97944">first_symbol</a>; bp; bp = bp-&gt;<a class="code" href="structbucket.html#a70c4dfb30de550c0caf1ce95f5e8803f">next</a>)
    {
    <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> == <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>)
        v[i++] = bp;
    <span class="keywordflow">else</span>
        v[j++] = bp;
    }
    assert(i == ntokens &amp;&amp; j == <a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>);

    <span class="keywordflow">for</span> (i = 1; i &lt; <a class="code" href="defs_8h.html#a78b17f8032df23629c33ae6a2dad4741">ntokens</a>; ++i)
    v[i]-&gt;index = i;

    <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a>-&gt;<a class="code" href="structbucket.html#a0b897ab8d67b47728890052bdf40c742">index</a> = <a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a> + 1;
    k = <a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a> + 2;
    <span class="keywordflow">while</span> (++i &lt; <a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>)
    <span class="keywordflow">if</span> (v[i] != <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a>)
    {
        v[i]-&gt;<a class="code" href="structbucket.html#a0b897ab8d67b47728890052bdf40c742">index</a> = k;
        ++k;
    }

    <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a>-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a> = 0;
    k = 1;
    <span class="keywordflow">for</span> (i = <a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a> + 1; i &lt; <a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>; ++i)
    {
    <span class="keywordflow">if</span> (v[i] != <a class="code" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a>)
    {
        v[i]-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a> = k;
        ++k;
    }
    }

    k = 0;
    <span class="keywordflow">for</span> (i = 1; i &lt; <a class="code" href="defs_8h.html#a78b17f8032df23629c33ae6a2dad4741">ntokens</a>; ++i)
    {
    n = v[i]-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a>;
    <span class="keywordflow">if</span> (n &gt; 256)
    {
        <span class="keywordflow">for</span> (j = k++; j &gt; 0 &amp;&amp; <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[j-1] &gt; n; --j)
        <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[j] = <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[j-1];
        <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[j] = n;
    }
    }

    <span class="keywordflow">if</span> (v[1]-&gt;value == <a class="code" href="defs_8h.html#a2dc3870be25a19efa2940150507aaf71">UNDEFINED</a>)
    v[1]-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a> = 256;

    j = 0;
    n = 257;
    <span class="keywordflow">for</span> (i = 2; i &lt; <a class="code" href="defs_8h.html#a78b17f8032df23629c33ae6a2dad4741">ntokens</a>; ++i)
    {
    <span class="keywordflow">if</span> (v[i]-&gt;value == <a class="code" href="defs_8h.html#a2dc3870be25a19efa2940150507aaf71">UNDEFINED</a>)
    {
        <span class="keywordflow">while</span> (j &lt; k &amp;&amp; n == <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[j])
        {
        <span class="keywordflow">while</span> (++j &lt; k &amp;&amp; n == <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[j]) <span class="keywordflow">continue</span>;
        ++n;
        }
        v[i]-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a> = n;
        ++n;
    }
    }

    <a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a>[0] = <a class="code" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a> + 8;
    <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[0] = 0;
    <a class="code" href="defs_8h.html#a4b47da62448a47ad7958024046169dab">symbol_prec</a>[0] = 0;
    <a class="code" href="defs_8h.html#a0c0abc3ce5784395b1a4e797360b20e7">symbol_assoc</a>[0] = <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;
    <span class="keywordflow">for</span> (i = 1; i &lt; <a class="code" href="defs_8h.html#a78b17f8032df23629c33ae6a2dad4741">ntokens</a>; ++i)
    {
    <a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a>[i] = v[i]-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>;
    <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[i] = v[i]-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a>;
    <a class="code" href="defs_8h.html#a4b47da62448a47ad7958024046169dab">symbol_prec</a>[i] = v[i]-&gt;<a class="code" href="structbucket.html#a36012bcc4fbe73a5095dc858746f6439">prec</a>;
    <a class="code" href="defs_8h.html#a0c0abc3ce5784395b1a4e797360b20e7">symbol_assoc</a>[i] = v[i]-&gt;<a class="code" href="structbucket.html#a60e2217a1c919890a10545ae4adb6e67">assoc</a>;
    }
    <a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a>[<a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a>] = <a class="code" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a>;
    <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[<a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a>] = -1;
    <a class="code" href="defs_8h.html#a4b47da62448a47ad7958024046169dab">symbol_prec</a>[<a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a>] = 0;
    <a class="code" href="defs_8h.html#a0c0abc3ce5784395b1a4e797360b20e7">symbol_assoc</a>[<a class="code" href="defs_8h.html#a44fa5d05f6da562890ffe18058a7cd10">start_symbol</a>] = <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;
    <span class="keywordflow">for</span> (++i; i &lt; <a class="code" href="defs_8h.html#a1dc6fe1e5081ce7ab7f86e148a97585a">nsyms</a>; ++i)
    {
    k = v[i]-&gt;<a class="code" href="structbucket.html#a0b897ab8d67b47728890052bdf40c742">index</a>;
    <a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a>[k] = v[i]-&gt;<a class="code" href="structbucket.html#a1d8309bbc0e36cd478c0494292ebfb05">name</a>;
    <a class="code" href="defs_8h.html#a92ceb8b8c12ac055d016e895d5c57c2f">symbol_value</a>[k] = v[i]-&gt;<a class="code" href="structbucket.html#a281671008712cea24b5e13a3558b64cf">value</a>;
    <a class="code" href="defs_8h.html#a4b47da62448a47ad7958024046169dab">symbol_prec</a>[k] = v[i]-&gt;<a class="code" href="structbucket.html#a36012bcc4fbe73a5095dc858746f6439">prec</a>;
    <a class="code" href="defs_8h.html#a0c0abc3ce5784395b1a4e797360b20e7">symbol_assoc</a>[k] = v[i]-&gt;<a class="code" href="structbucket.html#a60e2217a1c919890a10545ae4adb6e67">assoc</a>;
    }

    <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(v);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a037e2fd887e3a8ddac0b8527a017388e"></a><!-- doxytag: member="reader.c::print_grammar" ref="a037e2fd887e3a8ddac0b8527a017388e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a037e2fd887e3a8ddac0b8527a017388e">print_grammar</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01720">1720</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="main_8c_source.html#l00041">nrules</a>, <a class="el" href="main_8c_source.html#l00052">ritem</a>, <a class="el" href="main_8c_source.html#l00053">rlhs</a>, <a class="el" href="main_8c_source.html#l00047">symbol_name</a>, <a class="el" href="main_8c_source.html#l00038">verbose_file</a>, and <a class="el" href="main_8c_source.html#l00008">vflag</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01756">reader()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> i, j, k;
    <span class="keywordtype">int</span> spacing;
    <span class="keyword">register</span> FILE *f = <a class="code" href="defs_8h.html#a03678e952288d95a14d5e39bf5ceb2fa">verbose_file</a>;

    <span class="keywordflow">if</span> (!<a class="code" href="defs_8h.html#aa11c35040b83d143bdf47216f6df3991">vflag</a>) <span class="keywordflow">return</span>;

    k = 1;
    <span class="keywordflow">for</span> (i = 2; i &lt; <a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>; ++i)
    {
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a>[i] != <a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a>[i-1])
    {
        <span class="keywordflow">if</span> (i != 2) fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
        fprintf(f, <span class="stringliteral">&quot;%4d  %s :&quot;</span>, i - 2, <a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a>[<a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a>[i]]);
        spacing = strlen(<a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a>[<a class="code" href="defs_8h.html#ae4bb5b682bd5e29c99f352c7e5461d9e">rlhs</a>[i]]) + 1;
    }
    <span class="keywordflow">else</span>
    {
        fprintf(f, <span class="stringliteral">&quot;%4d  &quot;</span>, i - 2);
        j = spacing;
        <span class="keywordflow">while</span> (--j &gt;= 0) putc(<span class="charliteral">&#39; &#39;</span>, f);
        putc(<span class="charliteral">&#39;|&#39;</span>, f);
    }

    <span class="keywordflow">while</span> (<a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a>[k] &gt;= 0)
    {
        fprintf(f, <span class="stringliteral">&quot; %s&quot;</span>, <a class="code" href="defs_8h.html#a9b4024758f5f2402b4f8ba15286cde1c">symbol_name</a>[<a class="code" href="defs_8h.html#a01cf2505ce82ec00c8f04368c57331a7">ritem</a>[k]]);
        ++k;
    }
    ++k;
    putc(<span class="charliteral">&#39;\n&#39;</span>, f);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a07addfee5457e48ddb310769dd0e39af"></a><!-- doxytag: member="reader.c::read_declarations" ref="a07addfee5457e48ddb310769dd0e39af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a07addfee5457e48ddb310769dd0e39af">read_declarations</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00935">935</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00010">cache</a>, <a class="el" href="reader_8c_source.html#l00011">cache_size</a>, <a class="el" href="reader_8c_source.html#l00271">copy_ident()</a>, <a class="el" href="reader_8c_source.html#l00300">copy_text()</a>, <a class="el" href="reader_8c_source.html#l00431">copy_union()</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00917">declare_start()</a>, <a class="el" href="reader_8c_source.html#l00827">declare_tokens()</a>, <a class="el" href="reader_8c_source.html#l00889">declare_types()</a>, <a class="el" href="defs_8h_source.html#l00065">IDENT</a>, <a class="el" href="reader_8c_source.html#l00209">keyword()</a>, <a class="el" href="defs_8h_source.html#l00057">LEFT</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="defs_8h_source.html#l00103">MALLOC</a>, <a class="el" href="defs_8h_source.html#l00060">MARK</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="error_8c_source.html#l00014">no_space()</a>, <a class="el" href="defs_8h_source.html#l00059">NONASSOC</a>, <a class="el" href="defs_8h_source.html#l00058">RIGHT</a>, <a class="el" href="defs_8h_source.html#l00063">START</a>, <a class="el" href="error_8c_source.html#l00064">syntax_error()</a>, <a class="el" href="defs_8h_source.html#l00061">TEXT</a>, <a class="el" href="defs_8h_source.html#l00056">TOKEN</a>, <a class="el" href="defs_8h_source.html#l00062">TYPE</a>, <a class="el" href="error_8c_source.html#l00029">unexpected_EOF()</a>, and <a class="el" href="defs_8h_source.html#l00064">UNION</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01756">reader()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c, k;

    <a class="code" href="reader_8c.html#adc2cfac3a357c5424aafa9d351a2e6ea">cache_size</a> = 256;
    <a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a> = <a class="code" href="defs_8h.html#a7e3c05d61a56a6798627a9d576cb6b45">MALLOC</a>(<a class="code" href="reader_8c.html#adc2cfac3a357c5424aafa9d351a2e6ea">cache_size</a>);
    <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a> == 0) <a class="code" href="error_8c.html#a03b3d711852aa32c4076f12ea7bb93a4">no_space</a>();

    <span class="keywordflow">for</span> (;;)
    {
    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <a class="code" href="error_8c.html#a65962bc9ddf21cd2dc0b5f6b7dcb35fc">unexpected_EOF</a>();
    <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;%&#39;</span>) <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);
    <span class="keywordflow">switch</span> (k = <a class="code" href="reader_8c.html#a7b9f905e2f933d429fa1b479fd058f03">keyword</a>())
    {
    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#abeb214368f7f34cff98de9047aa6eb2f">MARK</a>:
        <span class="keywordflow">return</span>;

    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a096a20e68e4e980b6845ad843ec2c3a7">IDENT</a>:
        <a class="code" href="reader_8c.html#a475e9b3fc05ea753aeeb760cea34a511">copy_ident</a>();
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a52e3db5a1724beab41ebbabe72460f12">TEXT</a>:
        <a class="code" href="reader_8c.html#a5719a5118a10bc1e96786f599eeb516f">copy_text</a>();
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#adb8e526f08326af80d46f91f9d686e82">UNION</a>:
        <a class="code" href="reader_8c.html#a7ee403ea2ff911fb368d38ab6ef937c3">copy_union</a>();
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>:
    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a437ef08681e7210d6678427030446a54">LEFT</a>:
    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a80fb826a684cf3f0d306b22aa100ddac">RIGHT</a>:
    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a62fcdc2ef6d34c713ae6e2b7fbc09757">NONASSOC</a>:
        <a class="code" href="reader_8c.html#a0b749a023a959fabb8ed2778b46ec217">declare_tokens</a>(k);
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a5a392548f2df67370cb15d2a5d75cd7b">TYPE</a>:
        <a class="code" href="reader_8c.html#a860dbc8da656fd831b19668da20207c7">declare_types</a>();
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="defs_8h.html#a3018c7600b7bb9866400596a56a57af7">START</a>:
        <a class="code" href="reader_8c.html#a279a8d9eb5a5ad8dce6c95b2647b9c98">declare_start</a>();
        <span class="keywordflow">break</span>;
    }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="af6d4fba61bb761ca9fe92fef83e8ee94"></a><!-- doxytag: member="reader.c::read_grammar" ref="af6d4fba61bb761ca9fe92fef83e8ee94" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#af6d4fba61bb761ca9fe92fef83e8ee94">read_grammar</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01446">1446</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l01100">end_rule()</a>, <a class="el" href="reader_8c_source.html#l00984">initialize_grammar()</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, <a class="el" href="reader_8c_source.html#l01403">mark_symbol()</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="main_8c_source.html#l00041">nrules</a>, <a class="el" href="reader_8c_source.html#l01085">start_rule()</a>, and <a class="el" href="error_8c_source.html#l00064">syntax_error()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01756">reader()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">int</span> c;

    <a class="code" href="reader_8c.html#a329c5f0f613a0bef43be8262a531e952">initialize_grammar</a>();
    <a class="code" href="reader_8c.html#ac910677446efcb4dbebc9a6d3d90a9ff">advance_to_start</a>();

    <span class="keywordflow">for</span> (;;)
    {
    c = <a class="code" href="reader_8c.html#a11446424d65669df0f3a9e3b1cca57fa">nextc</a>();
    <span class="keywordflow">if</span> (c == EOF) <span class="keywordflow">break</span>;
    <span class="keywordflow">if</span> (isalpha(c) || c == <span class="charliteral">&#39;_&#39;</span> || c == <span class="charliteral">&#39;.&#39;</span> || c == <span class="charliteral">&#39;$&#39;</span> || c == <span class="charliteral">&#39;\&#39;&#39;</span> ||
        c == <span class="charliteral">&#39;&quot;&#39;</span>)
        <a class="code" href="reader_8c.html#a34bf32e056d8bc6f1fb490f4efc7ce90">add_symbol</a>();
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;{&#39;</span> || c == <span class="charliteral">&#39;=&#39;</span>)
        <a class="code" href="reader_8c.html#abb83807b1bba8d346650d3e4ae4e7425">copy_action</a>();
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;|&#39;</span>)
    {
        <a class="code" href="reader_8c.html#ae8594bb30d2b0297a4f533a4268c5d0a">end_rule</a>();
        <a class="code" href="reader_8c.html#a7691871ff8cdc7f1f7bdaf2443070ff1">start_rule</a>(<a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>-1], 0);
        ++<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;%&#39;</span>)
    {
        <span class="keywordflow">if</span> (<a class="code" href="reader_8c.html#aae3985d515e47c03afc20f92c0292531">mark_symbol</a>()) <span class="keywordflow">break</span>;
    }
    <span class="keywordflow">else</span>
        <a class="code" href="error_8c.html#ae2027917ace8b6f808a14b5cd4085eaf">syntax_error</a>(<a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>, <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>);
    }
    <a class="code" href="reader_8c.html#ae8594bb30d2b0297a4f533a4268c5d0a">end_rule</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3351a985e2d992eea6ed332cc837ad5b"></a><!-- doxytag: member="reader.c::reader" ref="a3351a985e2d992eea6ed332cc837ad5b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a3351a985e2d992eea6ed332cc837ad5b">reader</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01756">1756</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="skeleton_8c_source.html#l00015">banner</a>, <a class="el" href="reader_8c_source.html#l01519">check_symbols()</a>, <a class="el" href="symtab_8c_source.html#l00083">create_symbol_table()</a>, <a class="el" href="symtab_8c_source.html#l00103">free_symbol_table()</a>, <a class="el" href="symtab_8c_source.html#l00110">free_symbols()</a>, <a class="el" href="reader_8c_source.html#l01479">free_tags()</a>, <a class="el" href="reader_8c_source.html#l01661">pack_grammar()</a>, <a class="el" href="reader_8c_source.html#l01494">pack_names()</a>, <a class="el" href="reader_8c_source.html#l01537">pack_symbols()</a>, <a class="el" href="reader_8c_source.html#l01720">print_grammar()</a>, <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>, <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>, and <a class="el" href="skeleton_8c_source.html#l00287">write_section()</a>.</p>

<p>Referenced by <a class="el" href="main_8c_source.html#l00360">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="skeleton_8c.html#abac8d941eb63d23dccd28ed36b2050ff">write_section</a>(<a class="code" href="defs_8h.html#a191f8cda6f3e466455c263e069d5e033">banner</a>);
    <a class="code" href="symtab_8c.html#aeeef4e0a9c6733adb569531e181de719">create_symbol_table</a>();
    <a class="code" href="reader_8c.html#a07addfee5457e48ddb310769dd0e39af">read_declarations</a>();
    <a class="code" href="reader_8c.html#af6d4fba61bb761ca9fe92fef83e8ee94">read_grammar</a>();
    <a class="code" href="symtab_8c.html#a14c153a2da9dd2e76fe4344cd7ea8f39">free_symbol_table</a>();
    <a class="code" href="reader_8c.html#ae565a221030d4176917fd2ac6ff858e0">free_tags</a>();
    <a class="code" href="reader_8c.html#a9f8a3fd57d7687e5e2fe6b548fee5bc5">pack_names</a>();
    <a class="code" href="reader_8c.html#a57996ead211e5a17b36a1b7da0313239">check_symbols</a>();
    <a class="code" href="reader_8c.html#ad4d46b52f342745925534555eb129ffb">pack_symbols</a>();
    <a class="code" href="reader_8c.html#ac095dad6352a9764b63b751824aa223d">pack_grammar</a>();
    <a class="code" href="symtab_8c.html#aa478da0ed8af2de7934c4aa3dcf06771">free_symbols</a>();
    <a class="code" href="reader_8c.html#a037e2fd887e3a8ddac0b8527a017388e">print_grammar</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac812a775973bb1eb24e86256b2de6b8b"></a><!-- doxytag: member="reader.c::skip_comment" ref="ac812a775973bb1eb24e86256b2de6b8b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#ac812a775973bb1eb24e86256b2de6b8b">skip_comment</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00116">116</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l00017">cptr</a>, <a class="el" href="reader_8c_source.html#l00099">dup_line()</a>, <a class="el" href="defs_8h_source.html#l00102">FREE</a>, <a class="el" href="reader_8c_source.html#l00052">get_line()</a>, <a class="el" href="reader_8c_source.html#l00017">line</a>, <a class="el" href="main_8c_source.html#l00015">lineno</a>, and <a class="el" href="error_8c_source.html#l00076">unterminated_comment()</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00147">nextc()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">register</span> <span class="keywordtype">char</span> *s;

    <span class="keywordtype">int</span> st_lineno = <a class="code" href="defs_8h.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>;
    <span class="keywordtype">char</span> *st_line = <a class="code" href="reader_8c.html#a416a4e795e86e5666f1a734793f9636e">dup_line</a>();
    <span class="keywordtype">char</span> *st_cptr = st_line + (<a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> - <a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a>);

    s = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> + 2;
    <span class="keywordflow">for</span> (;;)
    {
    <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;*&#39;</span> &amp;&amp; s[1] == <span class="charliteral">&#39;/&#39;</span>)
    {
        <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a> = s + 2;
        <a class="code" href="defs_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(st_line);
        <span class="keywordflow">return</span>;
    }
    <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;\n&#39;</span>)
    {
        <a class="code" href="reader_8c.html#a204317aa3b6d154f1abff12df35953df">get_line</a>();
        <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a8adb30f4f6669f927fd9232f686c637b">line</a> == 0)
        <a class="code" href="error_8c.html#a81c4e76cf37319065a21afcaec1b8ab1">unterminated_comment</a>(st_lineno, st_line, st_cptr);
        s = <a class="code" href="defs_8h.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a>;
    }
    <span class="keywordflow">else</span>
        ++s;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7691871ff8cdc7f1f7bdaf2443070ff1"></a><!-- doxytag: member="reader.c::start_rule" ref="a7691871ff8cdc7f1f7bdaf2443070ff1" args="(bucket *bp, int s_lineno)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="reader_8c.html#a7691871ff8cdc7f1f7bdaf2443070ff1">start_rule</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbucket.html">bucket</a> *&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s_lineno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l01085">1085</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>References <a class="el" href="reader_8c_source.html#l01023">expand_rules()</a>, <a class="el" href="reader_8c_source.html#l00028">maxrules</a>, <a class="el" href="defs_8h_source.html#l00072">NONTERM</a>, <a class="el" href="main_8c_source.html#l00041">nrules</a>, <a class="el" href="main_8c_source.html#l00056">rassoc</a>, <a class="el" href="main_8c_source.html#l00055">rprec</a>, <a class="el" href="defs_8h_source.html#l00071">TERM</a>, <a class="el" href="error_8c_source.html#l00222">terminal_lhs()</a>, <a class="el" href="defs_8h_source.html#l00056">TOKEN</a>, and <a class="el" href="defs_8h_source.html#l00077">UNDEFINED</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, and <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> == <a class="code" href="defs_8h.html#ab19a74cdecfe8fdf5ec475457079fad0">TERM</a>)
    <a class="code" href="error_8c.html#ab2b1e22a832ff68240af1b58df86bee3">terminal_lhs</a>(s_lineno);
    bp-&gt;<a class="code" href="structbucket.html#a722df2e390d3c80ec408fd9c9fb44552">class</a> = <a class="code" href="defs_8h.html#a28356090ed8cd4b3f0611008270b6ae3">NONTERM</a>;
    <span class="keywordflow">if</span> (<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a> &gt;= <a class="code" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a>)
    <a class="code" href="reader_8c.html#a26f803a6175f255b34b89151133c51f6">expand_rules</a>();
    <a class="code" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] = bp;
    <a class="code" href="defs_8h.html#a44b270b2f703b57e339ddfd1b7f936ee">rprec</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] = <a class="code" href="defs_8h.html#a2dc3870be25a19efa2940150507aaf71">UNDEFINED</a>;
    <a class="code" href="defs_8h.html#a0d5ffe19c44a4e1528999adb937068b6">rassoc</a>[<a class="code" href="defs_8h.html#a4030fa806b6c395ad2fa87d009651042">nrules</a>] = <a class="code" href="defs_8h.html#a5c3a83864bf5991d09aa5c2abb911bf0">TOKEN</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a09171f00baf289510a560e2df6d20add"></a><!-- doxytag: member="reader.c::cache" ref="a09171f00baf289510a560e2df6d20add" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="reader_8c.html#a09171f00baf289510a560e2df6d20add">cache</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00010">10</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00037">cachec()</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, <a class="el" href="reader_8c_source.html#l01119">insert_empty_rule()</a>, <a class="el" href="reader_8c_source.html#l00209">keyword()</a>, and <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>

</div>
</div>
<a class="anchor" id="adc2cfac3a357c5424aafa9d351a2e6ea"></a><!-- doxytag: member="reader.c::cache_size" ref="adc2cfac3a357c5424aafa9d351a2e6ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#adc2cfac3a357c5424aafa9d351a2e6ea">cache_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00011">11</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00037">cachec()</a>, and <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>.</p>

</div>
</div>
<a class="anchor" id="a16afa6dee9d5cdcadf61c74db9a0ebb5"></a><!-- doxytag: member="reader.c::cinc" ref="a16afa6dee9d5cdcadf61c74db9a0ebb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a16afa6dee9d5cdcadf61c74db9a0ebb5">cinc</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00011">11</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00037">cachec()</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, and <a class="el" href="reader_8c_source.html#l00209">keyword()</a>.</p>

</div>
</div>
<a class="anchor" id="af737ae5841205792e28dd73ca4b42a4d"></a><!-- doxytag: member="reader.c::cptr" ref="af737ae5841205792e28dd73ca4b42a4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="reader_8c.html#af737ae5841205792e28dd73ca4b42a4d">cptr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00017">17</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, <a class="el" href="reader_8c_source.html#l00271">copy_ident()</a>, <a class="el" href="reader_8c_source.html#l00300">copy_text()</a>, <a class="el" href="reader_8c_source.html#l00431">copy_union()</a>, <a class="el" href="reader_8c_source.html#l00917">declare_start()</a>, <a class="el" href="reader_8c_source.html#l00889">declare_types()</a>, <a class="el" href="reader_8c_source.html#l00052">get_line()</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00747">get_name()</a>, <a class="el" href="reader_8c_source.html#l00763">get_number()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, <a class="el" href="reader_8c_source.html#l00209">keyword()</a>, <a class="el" href="reader_8c_source.html#l01403">mark_symbol()</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="output_8c_source.html#l01079">output_trailing_text()</a>, <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>, <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>, and <a class="el" href="reader_8c_source.html#l00116">skip_comment()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b9e707c64fb36363191b197f807250d"></a><!-- doxytag: member="reader.c::gensym" ref="a8b9e707c64fb36363191b197f807250d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a8b9e707c64fb36363191b197f807250d">gensym</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00022">22</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01119">insert_empty_rule()</a>.</p>

</div>
</div>
<a class="anchor" id="aeccc8425e6f8188a35133f5ee547dc19"></a><!-- doxytag: member="reader.c::goal" ref="aeccc8425e6f8188a35133f5ee547dc19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbucket.html">bucket</a>* <a class="el" href="reader_8c.html#aeccc8425e6f8188a35133f5ee547dc19">goal</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00020">20</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="mkpar_8c_source.html#l00153">find_final_state()</a>.</p>

</div>
</div>
<a class="anchor" id="a8bdcde8bd00b0f20ab9b266713ade2ad"></a><!-- doxytag: member="reader.c::last_was_action" ref="a8bdcde8bd00b0f20ab9b266713ade2ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="reader_8c.html#a8bdcde8bd00b0f20ab9b266713ade2ad">last_was_action</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00023">23</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, and <a class="el" href="reader_8c_source.html#l01100">end_rule()</a>.</p>

</div>
</div>
<a class="anchor" id="a23c15a972e063257ed7d820c4fdcf923"></a><!-- doxytag: member="reader.c::line" ref="a23c15a972e063257ed7d820c4fdcf923" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * <a class="el" href="reader_8c.html#a23c15a972e063257ed7d820c4fdcf923">line</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00017">17</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01035">advance_to_start()</a>, <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, <a class="el" href="reader_8c_source.html#l00271">copy_ident()</a>, <a class="el" href="reader_8c_source.html#l00300">copy_text()</a>, <a class="el" href="reader_8c_source.html#l00431">copy_union()</a>, <a class="el" href="reader_8c_source.html#l00917">declare_start()</a>, <a class="el" href="reader_8c_source.html#l00889">declare_types()</a>, <a class="el" href="reader_8c_source.html#l00099">dup_line()</a>, <a class="el" href="reader_8c_source.html#l00052">get_line()</a>, <a class="el" href="reader_8c_source.html#l00586">get_literal()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, <a class="el" href="error_8c_source.html#l00146">illegal_character()</a>, <a class="el" href="reader_8c_source.html#l00209">keyword()</a>, <a class="el" href="reader_8c_source.html#l01403">mark_symbol()</a>, <a class="el" href="reader_8c_source.html#l00147">nextc()</a>, <a class="el" href="output_8c_source.html#l01079">output_trailing_text()</a>, <a class="el" href="error_8c_source.html#l00124">over_unionized()</a>, <a class="el" href="reader_8c_source.html#l00935">read_declarations()</a>, <a class="el" href="reader_8c_source.html#l01446">read_grammar()</a>, and <a class="el" href="reader_8c_source.html#l00116">skip_comment()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a7b40b34c2ced2fec7fa3d28c9c504d"></a><!-- doxytag: member="reader.c::line_format" ref="a2a7b40b34c2ced2fec7fa3d28c9c504d" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="reader_8c.html#a2a7b40b34c2ced2fec7fa3d28c9c504d">line_format</a>[] = &quot;#line %d \&quot;%s\&quot;\n&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00034">34</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, <a class="el" href="reader_8c_source.html#l00300">copy_text()</a>, <a class="el" href="reader_8c_source.html#l00431">copy_union()</a>, <a class="el" href="output_8c_source.html#l01136">output_semantic_actions()</a>, <a class="el" href="output_8c_source.html#l00828">output_stored_text()</a>, and <a class="el" href="output_8c_source.html#l01079">output_trailing_text()</a>.</p>

</div>
</div>
<a class="anchor" id="a91e4d8a878948ae4d8573c4a9894b2e2"></a><!-- doxytag: member="reader.c::linesize" ref="a91e4d8a878948ae4d8573c4a9894b2e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a91e4d8a878948ae4d8573c4a9894b2e2">linesize</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00018">18</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00052">get_line()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ab360b5c118a4aeab3ec04409dc509c"></a><!-- doxytag: member="reader.c::maxitems" ref="a2ab360b5c118a4aeab3ec04409dc509c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a2ab360b5c118a4aeab3ec04409dc509c">maxitems</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00025">25</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01148">add_symbol()</a>, <a class="el" href="reader_8c_source.html#l01100">end_rule()</a>, <a class="el" href="reader_8c_source.html#l01015">expand_items()</a>, <a class="el" href="reader_8c_source.html#l00984">initialize_grammar()</a>, and <a class="el" href="reader_8c_source.html#l01119">insert_empty_rule()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f4f3cec64050916fdc4cc0d1384f739"></a><!-- doxytag: member="reader.c::maxrules" ref="a2f4f3cec64050916fdc4cc0d1384f739" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a2f4f3cec64050916fdc4cc0d1384f739">maxrules</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00028">28</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01023">expand_rules()</a>, <a class="el" href="reader_8c_source.html#l00984">initialize_grammar()</a>, <a class="el" href="reader_8c_source.html#l01119">insert_empty_rule()</a>, and <a class="el" href="reader_8c_source.html#l01085">start_rule()</a>.</p>

</div>
</div>
<a class="anchor" id="a35fd82b0e894540c7d0b46a291206ef4"></a><!-- doxytag: member="reader.c::name_pool" ref="a35fd82b0e894540c7d0b46a291206ef4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="reader_8c.html#a35fd82b0e894540c7d0b46a291206ef4">name_pool</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00032">32</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01494">pack_names()</a>, and <a class="el" href="reader_8c_source.html#l01537">pack_symbols()</a>.</p>

</div>
</div>
<a class="anchor" id="af9422143c1c9b05eb373c0f8ae85676f"></a><!-- doxytag: member="reader.c::name_pool_size" ref="af9422143c1c9b05eb373c0f8ae85676f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#af9422143c1c9b05eb373c0f8ae85676f">name_pool_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00031">31</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01494">pack_names()</a>.</p>

</div>
</div>
<a class="anchor" id="a498032a5fea553cb67344de2e38ada5d"></a><!-- doxytag: member="reader.c::ntags" ref="a498032a5fea553cb67344de2e38ada5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a498032a5fea553cb67344de2e38ada5d">ntags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00013">13</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01179">copy_action()</a>, <a class="el" href="reader_8c_source.html#l01479">free_tags()</a>, <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>, and <a class="el" href="output_8c_source.html#l01069">output_stype()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f1f55407e8de0f725623b3674a42219"></a><!-- doxytag: member="reader.c::pitem" ref="a2f1f55407e8de0f725623b3674a42219" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbucket.html">bucket</a>** <a class="el" href="reader_8c.html#a2f1f55407e8de0f725623b3674a42219">pitem</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00026">26</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

</div>
</div>
<a class="anchor" id="a73a8c7a912841b363f6f3fb0ede32e20"></a><!-- doxytag: member="reader.c::plhs" ref="a73a8c7a912841b363f6f3fb0ede32e20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbucket.html">bucket</a>** <a class="el" href="reader_8c.html#a73a8c7a912841b363f6f3fb0ede32e20">plhs</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00029">29</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5bfbd3b409ebe4bc09f9ed58d177c2bd"></a><!-- doxytag: member="reader.c::prec" ref="a5bfbd3b409ebe4bc09f9ed58d177c2bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a5bfbd3b409ebe4bc09f9ed58d177c2bd">prec</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00021">21</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00827">declare_tokens()</a>, and <a class="el" href="reader_8c_source.html#l01661">pack_grammar()</a>.</p>

</div>
</div>
<a class="anchor" id="a3711173060f4ba6063466079e1735f69"></a><!-- doxytag: member="reader.c::saw_eof" ref="a3711173060f4ba6063466079e1735f69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="reader_8c.html#a3711173060f4ba6063466079e1735f69">saw_eof</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00016">16</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00052">get_line()</a>.</p>

</div>
</div>
<a class="anchor" id="af2a94550cf84986b8ff77cd970849cd6"></a><!-- doxytag: member="reader.c::tag_table" ref="af2a94550cf84986b8ff77cd970849cd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** <a class="el" href="reader_8c.html#af2a94550cf84986b8ff77cd970849cd6">tag_table</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00014">14</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l01479">free_tags()</a>, and <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>.</p>

</div>
</div>
<a class="anchor" id="a2276541d2730a13720eae3a572a8a95c"></a><!-- doxytag: member="reader.c::tagmax" ref="a2276541d2730a13720eae3a572a8a95c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="reader_8c.html#a2276541d2730a13720eae3a572a8a95c">tagmax</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00013">13</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00777">get_tag()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c2eb26538005f327c8ee9e4310ea309"></a><!-- doxytag: member="reader.c::unionized" ref="a0c2eb26538005f327c8ee9e4310ea309" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="reader_8c.html#a0c2eb26538005f327c8ee9e4310ea309">unionized</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="reader_8c_source.html#l00016">16</a> of file <a class="el" href="reader_8c_source.html">reader.c</a>.</p>

<p>Referenced by <a class="el" href="reader_8c_source.html#l00431">copy_union()</a>, <a class="el" href="output_8c_source.html#l00776">output_defines()</a>, and <a class="el" href="output_8c_source.html#l01069">output_stype()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="reader_8c.html">reader.c</a>      </li>

    <li class="footer">Generated on Mon Mar 6 2017 12:28:08 for Berkeley YACC by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
